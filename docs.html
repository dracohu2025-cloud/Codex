<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codex 开发者文档 - OpenAI 开发者</title>
    <meta name="description" content="Codex 开发者官方文档。了解如何配置、使用及集成 Codex 软件工程智能体。">
    <link rel="stylesheet" href="docs.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Top Navigation Bar -->
    <header class="top-nav">
        <div class="top-nav-left">
            <a href="javascript:void(0)" class="logo" style="cursor: default;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0339 6.0339 0 0 0 5.7718-4.2057 5.9847 5.9847 0 0 0 3.989-2.9001 6.0462 6.0462 0 0 0-.7388-7.0731z" />
                </svg>
                <span>OpenAI 开发者</span>
            </a>
        </div>
        <div class="top-nav-right">
            <button class="theme-toggle" id="theme-toggle-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
    </header>

    <div class="layout-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="search-box">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" placeholder="搜索文档...">
                <span class="shortcut">⌘ K</span>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3>快速开始</h3>
                    <ul>
                        <li><a href="#overview" class="doc-link" data-target="overview">概览</a></li>
                        <li><a href="#quickstart" class="doc-link" data-target="quickstart">快速开始</a></li>
                        <li><a href="#explore" class="doc-link" data-target="explore">探索</a></li>
                        <li><a href="#pricing" class="doc-link" data-target="pricing">价格</a></li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">核心概念
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#prompting" class="doc-link" data-target="prompting">提示词</a></li>
                                <li><a href="#customization" class="doc-link" data-target="customization">自定义</a></li>
                                <li><a href="#multi-agents" class="doc-link" data-target="multi-agents">多智能体</a></li>
                                <li><a href="#workflows" class="doc-link" data-target="workflows">工作流</a></li>
                                <li><a href="#models" class="doc-link" data-target="models">模型</a></li>
                                <li><a href="#cyber-safety" class="doc-link" data-target="cyber-safety">网络安全</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>使用 Codex</h3>
                    <ul>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">应用
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#app-overview" class="doc-link" data-target="app-overview">概览</a></li>
                                <li><a href="#app-features" class="doc-link" data-target="app-features">功能特性</a></li>
                                <li><a href="#app-settings" class="doc-link" data-target="app-settings">设置</a></li>
                                <li><a href="#app-review" class="doc-link" data-target="app-review">审查</a></li>
                                <li><a href="#app-automations" class="doc-link" data-target="app-automations">自动化</a></li>
                                <li><a href="#app-worktrees" class="doc-link" data-target="app-worktrees">工作树</a></li>
                                <li><a href="#app-local" class="doc-link" data-target="app-local">本地环境</a></li>
                                <li><a href="#app-commands" class="doc-link" data-target="app-commands">指令</a></li>
                                <li><a href="#app-troubleshooting" class="doc-link" data-target="app-troubleshooting">故障排除</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">IDE 插件
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#extension" class="doc-link" data-target="extension">概览</a></li>
                                <li><a href="#ide-features" class="doc-link" data-target="ide-features">功能特性</a></li>
                                <li><a href="#ide-settings" class="doc-link" data-target="ide-settings">设置</a></li>
                                <li><a href="#ide-commands" class="doc-link" data-target="ide-commands">命令</a></li>
                                <li><a href="#ide-slash" class="doc-link" data-target="ide-slash">斜杠命令</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">命令行
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#cli" class="doc-link" data-target="cli">概览</a></li>
                                <li><a href="#cli-features" class="doc-link" data-target="cli-features">功能特性</a></li>
                                <li><a href="#cli-reference" class="doc-link" data-target="cli-reference">命令参考</a></li>
                                <li><a href="#cli-slash" class="doc-link" data-target="cli-slash">斜杠命令</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">云端
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#web" class="doc-link" data-target="web">概览</a></li>
                                <li><a href="#cloud-env" class="doc-link" data-target="cloud-env">环境</a></li>
                                <li><a href="#cloud-internet" class="doc-link" data-target="cloud-internet">互联网访问</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">集成
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#github" class="doc-link" data-target="github">GitHub</a></li>
                                <li><a href="#slack" class="doc-link" data-target="slack">Slack</a></li>
                                <li><a href="#linear" class="doc-link" data-target="linear">Linear</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>配置</h3>
                    <ul>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">配置文件
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#config-file" class="doc-link" data-target="config-file">配置基础</a></li>
                                <li><a href="#config-advanced" class="doc-link" data-target="config-advanced">高级配置</a></li>
                                <li><a href="#config-reference" class="doc-link" data-target="config-reference">配置参考</a></li>
                                <li><a href="#config-sample" class="doc-link" data-target="config-sample">配置示例</a></li>
                            </ul>
                        </li>
                        <li><a href="#rules" class="doc-link" data-target="rules">规则</a></li>
                        <li><a href="#agents-md" class="doc-link" data-target="agents-md">AGENTS.md</a></li>
                        <li><a href="#mcp" class="doc-link" data-target="mcp">MCP 协议</a></li>
                        <li><a href="#skills" class="doc-link" data-target="skills">自定义技能</a></li>
                        <li><a href="#config-multi-agent" class="doc-link" data-target="config-multi-agent">多智能体</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>管理</h3>
                    <ul>
                        <li><a href="#authentication" class="doc-link" data-target="authentication">认证</a></li>
                        <li><a href="#security" class="doc-link" data-target="security">安全</a></li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">企业版
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#enterprise-admin" class="doc-link" data-target="enterprise-admin">管理员设置</a></li>
                                <li><a href="#enterprise-governance" class="doc-link" data-target="enterprise-governance">治理与合规</a></li>
                            </ul>
                        </li>
                        <li><a href="#windows" class="doc-link" data-target="windows">Windows 支持</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>自动化</h3>
                    <ul>
                        <li><a href="#non-interactive" class="doc-link" data-target="non-interactive">非交互模式</a></li>
                        <li><a href="#codex-sdk" class="doc-link" data-target="codex-sdk">Codex 开发套件（SDK）</a></li>
                        <li><a href="#app-server" class="doc-link" data-target="app-server">应用服务器</a></li>
                        <li><a href="#mcp-server" class="doc-link" data-target="mcp-server">MCP 服务器</a></li>
                        <li><a href="#github-action" class="doc-link" data-target="github-action">GitHub 自动化（Action）</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>学习资源</h3>
                    <ul>
                        <li><a href="#videos" class="doc-link" data-target="videos">视频教程</a></li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">博客
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#blog-eval-skills" class="doc-link" data-target="blog-eval-skills">Evals 评测方法</a></li>
                                <li><a href="#blog-skyscanner-mcp" class="doc-link" data-target="blog-skyscanner-mcp">Skyscanner 集成实战</a></li>
                                <li><a href="#blog" class="doc-link" data-target="blog">查看全部</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="doc-link with-arrow">实战手册
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#cookbook-prompting-guide" class="doc-link" data-target="cookbook-prompting-guide">Codex 提示词指南</a></li>
                                <li><a href="#cookbook-modernization" class="doc-link" data-target="cookbook-modernization">代码库现代化</a></li>
                                <li><a href="#cookbooks" class="doc-link" data-target="cookbooks">查看全部</a></li>
                            </ul>
                        </li>
                        <li><a href="#building-ai-teams" class="doc-link" data-target="building-ai-teams">构建 AI 团队</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>社区</h3>
                    <ul>
                        <li><a href="#ambassadors" class="doc-link" data-target="ambassadors">大使计划</a></li>
                        <li><a href="#meetups" class="doc-link" data-target="meetups">线下聚会</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>版本发布</h3>
                    <ul>
                        <li><a href="#changelog" class="doc-link" data-target="changelog">更新日志</a></li>
                        <li><a href="#feature-maturity" class="doc-link" data-target="feature-maturity">功能成熟度</a></li>
                        <li><a href="#open-source" class="doc-link" data-target="open-source">开源</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main SPA Content Area -->
        <main class="content-area" id="main-content">
            <div class="content-header">
                <button class="btn-copy-page">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    复制当前页
                </button>
            </div>

            <div class="sections-wrapper">

                <!-- EXPLORE SECTION -->
                <section id="explore" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>探索</h1>
                        <p class="subtitle">官方示例任务库：从入门提示到可复用自动化。</p>

                        <div class="intro-block">
                            <h2>开始动手（Get started）</h2>
                            <div class="explore-card-grid">
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/gamepad.png" alt="原型构建图标">
                                    <h3>从一个想法开始原型</h3>
                                    <p>示例提示：<code>请帮我做一个可运行的小游戏原型，并附上启动命令。</code></p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/search.png" alt="代码探索图标">
                                    <h3>理解陌生代码库</h3>
                                    <p>示例提示：<code>用 5 点总结这个仓库架构，并标出最关键的入口文件。</code></p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/sparkles.png" alt="重构优化图标">
                                    <h3>先修复再优化</h3>
                                    <p>示例提示：<code>先让测试通过，再做最小范围重构并给出 diff 说明。</code></p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/tab-layout.png" alt="界面布局图标">
                                    <h3>界面布局生成</h3>
                                    <p>从需求描述直接生成页面结构与可迭代组件。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/wand.png" alt="快速生成图标">
                                    <h3>一键生成初版</h3>
                                    <p>先生成可运行版本，再进入小步审查迭代。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/briefcase.png" alt="业务场景图标">
                                    <h3>业务场景落地</h3>
                                    <p>把需求语义翻译为可交付的工程实现路径。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/tab-search.png" alt="检索图标">
                                    <h3>跨文件检索定位</h3>
                                    <p>按模块和调用链快速定位最小改动面。</p>
                                </div>
                            </div>

                            <h2>使用技能（Use skills）</h2>
                            <div class="explore-card-grid">
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/brain.png" alt="技能知识图标">
                                    <h3>加载领域知识</h3>
                                    <p>把常见任务沉淀为技能，让 Codex 在项目里自动调用。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/book.png" alt="文档标准图标">
                                    <h3>统一工程规范</h3>
                                    <p>结合 <code>AGENTS.md</code> 与技能，固化团队代码风格与交付标准。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/connectors.png" alt="连接器图标">
                                    <h3>接入外部工具</h3>
                                    <p>通过 MCP 连接数据库、工单系统或内部服务，减少手工切换。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/poem.png" alt="文本创作图标">
                                    <h3>文档与说明生成</h3>
                                    <p>在编码同时产出可读文档与交接说明。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/design.png" alt="设计协作图标">
                                    <h3>设计到代码协作</h3>
                                    <p>把设计描述转换为可运行的前端实现。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/rocket.png" alt="发布加速图标">
                                    <h3>交付提速</h3>
                                    <p>减少重复操作，把精力集中在关键决策上。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/maps.png" alt="路径规划图标">
                                    <h3>任务路径规划</h3>
                                    <p>先规划再执行，降低返工与误改风险。</p>
                                </div>
                            </div>

                            <h2>创建自动化（Create automations）</h2>
                            <div class="explore-card-grid">
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/calendar.png" alt="定时任务图标">
                                    <h3>定时执行任务</h3>
                                    <p>例如每日生成错误摘要、依赖审查报告或回归检查列表。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/chat.png" alt="通知图标">
                                    <h3>自动通知结果</h3>
                                    <p>在任务完成后自动推送结果，配合审查流程快速决策。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/trends.png" alt="趋势分析图标">
                                    <h3>持续追踪趋势</h3>
                                    <p>把常规分析变成稳定流水线，长期沉淀项目改进信号。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/video.png" alt="多媒体流程图标">
                                    <h3>多媒体任务协同</h3>
                                    <p>结合截图与上下文，快速完成界面级迭代。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/medical.png" alt="高标准场景图标">
                                    <h3>高标准合规场景</h3>
                                    <p>在严格约束下执行可审计、可回溯的任务。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/child.png" alt="学习引导图标">
                                    <h3>新成员上手辅助</h3>
                                    <p>把复杂仓库知识转成易理解的行动建议。</p>
                                </div>
                                <div class="explore-card">
                                    <img src="https://developers.openai.com/codex/colorcons/trophy.png" alt="成果优化图标">
                                    <h3>稳定产出高质量结果</h3>
                                    <p>以可验证结果为目标持续优化提示与流程。</p>
                                </div>
                            </div>

                            <p>官方页面：<a href="https://developers.openai.com/codex/explore" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/explore</a></p>
                        </div>
                    </article>
                </section>

                <!-- PRICING SECTION -->
                <section id="pricing" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>价格</h1>
                        <p class="subtitle">按官方套餐与配额设计整理，价格与限制请始终以官网实时信息为准。</p>

                        <div class="intro-block">
                            <h2>套餐与入口</h2>
                            <div class="pricing-plan-grid">
                                <div class="pricing-plan-card">
                                    <h3>Plus</h3>
                                    <p>适合个人开发者日常使用。</p>
                                    <a href="https://chatgpt.com/explore/plus?utm_internal_source=openai_developers_codex" target="_blank" rel="noopener noreferrer">开通 Plus</a>
                                </div>
                                <div class="pricing-plan-card">
                                    <h3>Pro</h3>
                                    <p>适合重度使用和更高频次任务。</p>
                                    <a href="https://chatgpt.com/explore/pro?utm_internal_source=openai_developers_codex" target="_blank" rel="noopener noreferrer">开通 Pro</a>
                                </div>
                                <div class="pricing-plan-card">
                                    <h3>Business</h3>
                                    <p>适合团队协作与共享管理。</p>
                                    <a href="https://chatgpt.com/team-sign-up?utm_internal_source=openai_developers_codex" target="_blank" rel="noopener noreferrer">免费试用</a>
                                </div>
                                <div class="pricing-plan-card">
                                    <h3>Enterprise / Edu</h3>
                                    <p>适合组织级治理、合规和审计需求。</p>
                                    <a href="https://chatgpt.com/contact-sales?utm_internal_source=openai_developers_codex" target="_blank" rel="noopener noreferrer">联系销售</a>
                                </div>
                                <div class="pricing-plan-card">
                                    <h3>API Key</h3>
                                    <p>按 API 调用计费，适合平台集成。</p>
                                    <a href="https://platform.openai.com/docs/pricing" target="_blank" rel="noopener noreferrer">查看 API 价格</a>
                                </div>
                            </div>

                            <h2>常见问题</h2>
                            <ul>
                                <li><strong>我的套餐有哪些使用限制？</strong> 取决于当前套餐与账户状态，详见官方页面。</li>
                                <li><strong>达到限制后会怎样？</strong> 任务可能被限流或需要等待额度恢复。</li>
                                <li><strong>在哪里看实时额度？</strong> 在 ChatGPT 账户或管理后台查看。</li>
                                <li><strong>Credits 如何工作？</strong> 以官方 credits 说明为准。</li>
                                <li><strong>Code Review 如何计量？</strong> 以官方计费口径为准。</li>
                                <li><strong>如何让额度更耐用？</strong> 优化提示词、拆分任务、减少无效轮次。</li>
                            </ul>

                            <h2>官方链接</h2>
                            <ul>
                                <li>Codex Pricing：<a href="https://developers.openai.com/codex/pricing" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/pricing</a></li>
                                <li>ChatGPT Pricing：<a href="https://chatgpt.com/pricing" target="_blank" rel="noopener noreferrer">chatgpt.com/pricing</a></li>
                                <li>OpenAI Pricing：<a href="https://openai.com/pricing" target="_blank" rel="noopener noreferrer">openai.com/pricing</a></li>
                                <li>Business 数据与隐私：<a href="https://openai.com/business-data/" target="_blank" rel="noopener noreferrer">openai.com/business-data</a></li>
                                <li>RBAC 说明：<a href="https://help.openai.com/en/articles/11750701-rbac" target="_blank" rel="noopener noreferrer">help.openai.com/rbac</a></li>
                                <li>Compliance API：<a href="https://chatgpt.com/admin/api-reference#tag/Codex-Tasks" target="_blank" rel="noopener noreferrer">chatgpt.com/admin/api-reference</a></li>
                                <li>认证说明：<a href="https://developers.openai.com/codex/auth" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/auth</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- OVERVIEW SECTION -->
                <section id="overview" class="doc-section active">
                    <article class="document-content">
                        <h1>Codex</h1>
                        <p class="subtitle">让编码任务从“描述需求”变成“可执行、可验证、可交付”的工程流程。</p>

                        <div class="intro-block">
                            <p>Codex 是 OpenAI 面向软件工程的智能体产品，可用于编写代码、理解仓库、执行命令、生成修复、完成审查与提交流程。可在应用、IDE、CLI 与 Web 中使用。</p>

                            <ul class="feature-list">
                                <li><strong>写代码：</strong>把需求转为可运行实现，并给出变更说明。</li>
                                <li><strong>读代码：</strong>快速解释结构、依赖关系与关键路径。</li>
                                <li><strong>改代码：</strong>生成可审查 diff，并按反馈迭代。</li>
                                <li><strong>验代码：</strong>运行测试与命令，确保改动可验证。</li>
                                <li><strong>交付代码：</strong>支持本地或云端任务流与协作流程。</li>
                            </ul>

                            <div class="app-screenshot" style="margin: 3rem 0;">
                                <picture>
                                    <source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/codex-app-basic-dark.webp">
                                    <img src="https://developers.openai.com/images/codex/app/codex-app-basic-light.webp" alt="Codex 应用界面" style="width: 100%; max-width: 1200px; border-radius: 12px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
                                </picture>
                            </div>

                            <div class="overview-links-grid">
                                <a class="overview-link-card" href="https://developers.openai.com/codex/quickstart" target="_blank" rel="noopener noreferrer" style="background-image:url('https://developers.openai.com/images/codex/codex-wallpaper-3.webp')">
                                    <h3>快速开始</h3>
                                    <p>下载并开始使用 Codex。</p>
                                </a>
                                <a class="overview-link-card" href="https://developers.openai.com/codex/explore" target="_blank" rel="noopener noreferrer" style="background-image:url('https://developers.openai.com/images/codex/codex-wallpaper-1.webp')">
                                    <h3>探索</h3>
                                    <p>查看你可以用 Codex 构建什么。</p>
                                </a>
                                <a class="overview-link-card" href="https://developers.openai.com/codex/community/meetups" target="_blank" rel="noopener noreferrer" style="background-image:url('https://developers.openai.com/images/codex/codex-wallpaper-2.webp')">
                                    <h3>社区</h3>
                                    <p>查看大使计划与线下活动。</p>
                                </a>
                            </div>
                        </div>
                    </article>
                </section>

                <!-- QUICKSTART SECTION -->
                <section id="quickstart" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>快速开始</h1>
                        <p class="subtitle">按你最熟悉的入口开始：Codex 应用、IDE 扩展、CLI 或 Web。</p>

                        <div class="intro-block">
                            <h2>设置（Setup）</h2>

                            <div class="quickstart-item">
                                <img src="https://developers.openai.com/codex/colorcons/brain.png" alt="Codex 应用图标">
                                <div>
                                    <h3>Codex 应用（macOS）</h3>
                                    <p>下载并登录后，选择本地仓库即可开始对话式开发与任务执行。</p>
                                    <ul>
                                        <li><a href="https://persistent.oaistatic.com/codex-app-prod/Codex.dmg" target="_blank" rel="noopener noreferrer">下载 macOS 版本（DMG）</a></li>
                                        <li><a href="https://openai.com/form/codex-app/" target="_blank" rel="noopener noreferrer">订阅 Windows / Linux 通知</a></li>
                                        <li><a href="https://developers.openai.com/codex/app" target="_blank" rel="noopener noreferrer">查看应用文档</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="quickstart-item">
                                <img src="https://developers.openai.com/codex/colorcons/gamepad.png" alt="IDE 扩展图标">
                                <div>
                                    <h3>IDE 扩展</h3>
                                    <p>在编辑器中直接调用 Codex，适合快速改代码与审查 diff。</p>
                                    <ul>
                                        <li><a href="vscode:extension/openai.chatgpt" target="_blank" rel="noopener noreferrer">安装 Visual Studio Code 扩展</a></li>
                                        <li><a href="cursor:extension/openai.chatgpt" target="_blank" rel="noopener noreferrer">安装 Cursor 扩展</a></li>
                                        <li><a href="windsurf:extension/openai.chatgpt" target="_blank" rel="noopener noreferrer">安装 Windsurf 扩展</a></li>
                                        <li><a href="https://marketplace.visualstudio.com/items?itemName=openai.chatgpt" target="_blank" rel="noopener noreferrer">Visual Studio Code Insiders</a></li>
                                        <li><a href="https://developers.openai.com/codex/ide" target="_blank" rel="noopener noreferrer">查看 IDE 文档</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="quickstart-item">
                                <img src="https://developers.openai.com/codex/colorcons/search.png" alt="CLI 图标">
                                <div>
                                    <h3>CLI</h3>
                                    <p>适合命令行用户和脚本化流程。</p>
                                    <pre><code>npm install -g @openai/codex</code></pre>
                                    <p>安装后在项目目录执行 <code>codex</code>，按提示登录即可。</p>
                                    <p><a href="https://developers.openai.com/codex/cli" target="_blank" rel="noopener noreferrer">查看 CLI 文档</a></p>
                                </div>
                            </div>

                            <div class="quickstart-item">
                                <img src="https://developers.openai.com/codex/colorcons/tab-layout.png" alt="Web 图标">
                                <div>
                                    <h3>Web</h3>
                                    <p>在云端环境中执行任务，适合长任务和异步协作。</p>
                                    <ul>
                                        <li><a href="https://chatgpt.com/codex" target="_blank" rel="noopener noreferrer">打开 chatgpt.com/codex</a></li>
                                        <li><a href="https://chatgpt.com/codex/settings/environments" target="_blank" rel="noopener noreferrer">管理云端环境</a></li>
                                        <li><a href="https://developers.openai.com/codex/prompting#threads" target="_blank" rel="noopener noreferrer">了解线程（Threads）</a></li>
                                        <li><a href="https://developers.openai.com/codex/explore" target="_blank" rel="noopener noreferrer">查看更多示例任务</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </article>
                </section>

                <!-- APP OVERVIEW SECTION -->
                <section id="app-overview" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 应用</h1>
                        <p class="subtitle">面向桌面端的并行线程工作区。</p>
                        <div class="intro-block">
                            <h2>开始使用</h2>
                            <ul>
                                <li>查看套餐说明：<a href="https://developers.openai.com/codex/pricing" target="_blank" rel="noopener noreferrer">what’s included</a></li>
                                <li>下载 macOS：<a href="https://persistent.oaistatic.com/codex-app-prod/Codex.dmg" target="_blank" rel="noopener noreferrer">Download for macOS</a></li>
                                <li>订阅 Windows / Linux 通知：<a href="https://openai.com/form/codex-app/" target="_blank" rel="noopener noreferrer">Get notified</a></li>
                            </ul>
                            <h2>在 Codex 应用中工作</h2>
                            <p>应用支持多项目并行、多线程协作与本地执行。可结合云端线程（<a href="https://developers.openai.com/codex/prompting#threads" target="_blank" rel="noopener noreferrer">cloud threads</a>）与示例任务（<a href="https://developers.openai.com/codex/explore" target="_blank" rel="noopener noreferrer">explore section</a>）快速上手。</p>
                            <h3>跨项目并行</h3>
                            <div class="app-screenshot" style="margin: 1.5rem 0;">
                                <picture>
                                    <source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/app-screenshot-dark.webp">
                                    <img src="https://developers.openai.com/images/codex/app/app-screenshot-light.webp" alt="Codex app overview" style="width:100%;border-radius:12px;">
                                </picture>
                            </div>
                            <div class="explore-card-grid">
                                <div class="explore-card"><img src="https://developers.openai.com/codex/colorcons/brain.png" alt=""><h3>理解代码</h3><p>快速总结结构与关键路径。</p></div>
                                <div class="explore-card"><img src="https://developers.openai.com/codex/colorcons/gamepad.png" alt=""><h3>执行任务</h3><p>把需求转成可执行改动。</p></div>
                                <div class="explore-card"><img src="https://developers.openai.com/codex/colorcons/search.png" alt=""><h3>验证结果</h3><p>结合测试与命令完成闭环。</p></div>
                            </div>
                            <p>官方页面：<a href="https://developers.openai.com/codex/app" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/app</a></p>
                        </div>
                    </article>
                </section>

                <!-- APP TROUBLESHOOTING SECTION -->
                <section id="app-troubleshooting" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>故障排除</h1>
                        <p class="subtitle">常见问题、日志反馈与恢复路径。</p>
                        <div class="intro-block">
                            <h2>常见问题</h2>
                            <h2>反馈与日志</h2>
                            <h2>卡住状态与恢复模式</h2>
                            <h2>终端问题</h2>
                            <h3>侧边栏出现未编辑文件</h3>
                            <h3>如何移除项目</h3>
                            <h3>找不到历史线程</h3>
                            <h3>工作树代码无法运行</h3>
                            <ul>
                                <li>审查面板：<a href="https://developers.openai.com/codex/app/review" target="_blank" rel="noopener noreferrer">review pane</a></li>
                                <li>设置入口：<a href="codex://settings" target="_blank" rel="noopener noreferrer">codex://settings</a></li>
                                <li>工作树文档：<a href="https://developers.openai.com/codex/app/worktrees" target="_blank" rel="noopener noreferrer">worktrees documentation</a></li>
                                <li>问题反馈：<a href="https://github.com/openai/codex/issues" target="_blank" rel="noopener noreferrer">existing issues</a></li>
                                <li>新建问题（模板）：<a href="https://github.com/openai/codex/issues/new?template=2-bug-report.yml&steps=Uploaded%20thread%3A%20019c0d37-d2b6-74c0-918f-0e64af9b6e14" target="_blank" rel="noopener noreferrer">Open a new GitHub issue</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/app/troubleshooting" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/app/troubleshooting</a></p>
                        </div>
                    </article>
                </section>

                <!-- APP FEATURES SECTION -->
                <section id="app-features" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 应用功能</h1>
                        <p class="subtitle">应用端主要能力与工作方式。</p>
                        <div class="intro-block">
                            <h2>多项目并行</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/multitask-dark.webp"><img src="https://developers.openai.com/images/codex/app/multitask-light.webp" alt="Multitask" style="width:100%;border-radius:12px;"></picture>
                            <h2>技能支持</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/skill-selector-dark.webp"><img src="https://developers.openai.com/images/codex/app/skill-selector-light.webp" alt="Skills" style="width:100%;border-radius:12px;"></picture>
                            <h2>自动化</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/create-automation-dark.webp"><img src="https://developers.openai.com/images/codex/app/create-automation-light.webp" alt="Automations" style="width:100%;border-radius:12px;"></picture>
                            <h2>模式</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/modes-dark.webp"><img src="https://developers.openai.com/images/codex/app/modes-light.webp" alt="Modes" style="width:100%;border-radius:12px;"></picture>
                            <h2>内置 Git 工具</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/git-commit-dark.webp"><img src="https://developers.openai.com/images/codex/app/git-commit-light.webp" alt="Git" style="width:100%;border-radius:12px;"></picture>
                            <h2>工作树支持</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/worktree-dark.webp"><img src="https://developers.openai.com/images/codex/app/worktree-light.webp" alt="Worktree" style="width:100%;border-radius:12px;"></picture>
                            <h2>集成终端</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/integrated-terminal-dark.webp"><img src="https://developers.openai.com/images/codex/app/integrated-terminal-light.webp" alt="Terminal" style="width:100%;border-radius:12px;"></picture>
                            <h2>语音输入</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/voice-dictation-dark.webp"><img src="https://developers.openai.com/images/codex/app/voice-dictation-light.webp" alt="Voice" style="width:100%;border-radius:12px;"></picture>
                            <h2>浮窗模式</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/popover-dark.webp"><img src="https://developers.openai.com/images/codex/app/popover-light.webp" alt="Popover" style="width:100%;border-radius:12px;"></picture>
                            <h2>其他能力</h2>
                            <ul>
                                <li>与 IDE 扩展同步</li>
                                <li>审批与沙箱（详见 <a href="https://developers.openai.com/codex/security" target="_blank" rel="noopener noreferrer">security</a>）</li>
                                <li>MCP 支持（<a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">Model Context Protocol</a>）</li>
                                <li>Web 搜索、图片输入、通知、防休眠</li>
                            </ul>
                            <h2>相关页面</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/app/settings" target="_blank" rel="noopener noreferrer">Settings</a></li>
                                <li><a href="https://developers.openai.com/codex/app/automations" target="_blank" rel="noopener noreferrer">Automations</a></li>
                                <li><a href="https://developers.openai.com/codex/app/local-environments" target="_blank" rel="noopener noreferrer">Local environments</a></li>
                                <li><a href="https://developers.openai.com/codex/app/worktrees" target="_blank" rel="noopener noreferrer">Worktrees</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- PROMPTING SECTION -->
                <section id="prompting" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>提示词</h1>
                        <p class="subtitle">把任务说清楚、验收说清楚、边界说清楚，Codex 的稳定性会显著提升。</p>

                        <div class="intro-block">
                            <h2>提示词（Prompts）</h2>
                            <p>建议用“目标 + 约束 + 验收”三段式描述任务。目标说明要做什么，约束说明不能做什么，验收给出可执行检查项（例如测试命令）。</p>

                            <h2>线程（Threads）</h2>
                            <p>一个会话就是一个线程。大型任务建议拆成多个线程并行推进，避免一个线程承载过多上下文导致效率下降。</p>

                            <h2>上下文（Context）</h2>
                            <p>在提示中明确路径、文件、命令和预期输出格式。上下文越明确，Codex 的执行和复现就越稳定。</p>

                            <h2>相关页面</h2>
                            <ul>
                                <li>工作流：<a href="https://developers.openai.com/codex/workflows" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/workflows</a></li>
                                <li>安全沙箱：<a href="https://developers.openai.com/codex/security" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/security</a></li>
                                <li>云端环境：<a href="https://developers.openai.com/codex/cloud/environments" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/cloud/environments</a></li>
                                <li>IDE 云端任务：<a href="https://developers.openai.com/codex/ide/cloud-tasks" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/ide/cloud-tasks</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- EXTENSION SECTION -->
                <section id="extension" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex IDE 扩展</h1>
                        <p class="subtitle">在 VS Code、Cursor、Windsurf 与 JetBrains 中使用 Codex。</p>
                        <div class="intro-block">
                            <h2>扩展安装</h2>
                            <ul>
                                <li><a href="https://marketplace.visualstudio.com/items?itemName=openai.chatgpt" target="_blank" rel="noopener noreferrer">Visual Studio Code Marketplace</a></li>
                                <li><a href="vscode:extension/openai.chatgpt" target="_blank" rel="noopener noreferrer">Download for Visual Studio Code</a></li>
                                <li><a href="cursor:extension/openai.chatgpt" target="_blank" rel="noopener noreferrer">Download for Cursor</a></li>
                                <li><a href="windsurf:extension/openai.chatgpt" target="_blank" rel="noopener noreferrer">Download for Windsurf</a></li>
                                <li><a href="https://blog.jetbrains.com/ai/2026/01/codex-in-jetbrains-ides/" target="_blank" rel="noopener noreferrer">Install Codex for JetBrains IDEs</a></li>
                            </ul>
                            <h2>JetBrains IDE 集成</h2>
                            <h2>使用 IDE 扩展</h2>
                            <h3>把 Codex 移到右侧边栏</h3>
                            <h3>登录与升级扩展</h3>
                            <h3>设置快捷键</h3>
                            <h3>结合编辑器上下文提问</h3>
                            <img src="https://cdn.openai.com/devhub/docs/codex-extension.webp" alt="Codex extension" style="width:100%;border-radius:12px;">
                            <img src="https://cdn.openai.com/devhub/docs/codex-workbench-setting.webp" alt="Codex workbench setting" style="width:100%;border-radius:12px;margin-top:1rem;">
                            <ul>
                                <li>价格说明：<a href="https://developers.openai.com/codex/pricing" target="_blank" rel="noopener noreferrer">pricing page</a></li>
                                <li>Windows 指南：<a href="https://developers.openai.com/codex/windows" target="_blank" rel="noopener noreferrer">Windows setup guide</a></li>
                                <li>命令：<a href="https://developers.openai.com/codex/ide/commands" target="_blank" rel="noopener noreferrer">IDE extension commands</a></li>
                                <li>斜杠命令：<a href="https://developers.openai.com/codex/ide/slash-commands" target="_blank" rel="noopener noreferrer">IDE slash commands</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CLI SECTION -->
                <section id="cli" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex CLI</h1>
                        <p class="subtitle">开源命令行入口，适合脚本化与终端工作流。</p>
                        <div class="intro-block">
                            <h2>CLI 安装</h2>
                            <pre><code>npm install -g @openai/codex
codex --version
codex login</code></pre>
                            <h2>使用 Codex CLI</h2>
                            <h3>Install</h3>
                            <h3>Run</h3>
                            <h3>Upgrade</h3>
                            <h3>交互式运行</h3>
                            <ul>
                                <li>开源仓库：<a href="https://github.com/openai/codex" target="_blank" rel="noopener noreferrer">open source</a></li>
                                <li>套餐说明：<a href="https://developers.openai.com/codex/pricing" target="_blank" rel="noopener noreferrer">what’s included</a></li>
                                <li>更新日志：<a href="https://developers.openai.com/codex/changelog" target="_blank" rel="noopener noreferrer">changelog</a></li>
                                <li>Windows 指南：<a href="https://developers.openai.com/codex/windows" target="_blank" rel="noopener noreferrer">Windows setup guide</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- WEB SECTION -->
                <section id="web" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex Web</h1>
                        <p class="subtitle">在浏览器中发起与管理 Codex 云端任务。</p>
                        <div class="intro-block">
                            <h2>Web 设置</h2>
                            <ul>
                                <li>打开：<a href="https://chatgpt.com/codex" target="_blank" rel="noopener noreferrer">chatgpt.com/codex</a></li>
                                <li>套餐说明：<a href="https://developers.openai.com/codex/pricing" target="_blank" rel="noopener noreferrer">what’s included</a></li>
                                <li>企业管理员设置：<a href="https://developers.openai.com/codex/enterprise/admin-setup" target="_blank" rel="noopener noreferrer">admin setup</a></li>
                            </ul>
                            <h2>在 Web 中工作</h2>
                            <h3>先学习提示词再启动任务</h3>
                            <p>参考：<a href="https://developers.openai.com/codex/prompting" target="_blank" rel="noopener noreferrer">prompting</a></p>
                        </div>
                    </article>
                </section>

                <!-- INTEGRATIONS SECTION -->
                <section id="integrations" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>集成</h1>
                        <p class="subtitle">Codex 官方支持的核心集成入口。</p>
                        <div class="intro-block">
                            <h2>可用集成</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/integrations/github" target="_blank" rel="noopener noreferrer">GitHub</a>：代码审查与任务委托。</li>
                                <li><a href="https://developers.openai.com/codex/integrations/slack" target="_blank" rel="noopener noreferrer">Slack</a>：在聊天中发起云端任务。</li>
                                <li><a href="https://developers.openai.com/codex/integrations/linear" target="_blank" rel="noopener noreferrer">Linear</a>：从 issue 流程委托 Codex。</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CONFIG FILE SECTION -->
                <section id="config-file" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>配置基础</h1>
                        <p class="subtitle">先理解配置层级，再按需调默认模型、审批策略、沙箱与功能开关。</p>

                        <div class="intro-block">
                            <p>Codex 会从多个位置读取配置。你的个人默认值通常放在 <code>~/.codex/config.toml</code>；项目内可用 <code>.codex/config.toml</code> 做覆盖（仅在受信任项目中生效）。</p>

                            <h2>Codex 配置文件</h2>
                            <p>CLI 与 IDE 扩展共享同一套配置层。你可以用它来设置默认模型、审批策略、沙箱模式和 MCP 服务器。</p>
                            <ul>
                                <li>配置基础（官方）：<a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/config-basic</a></li>
                                <li>安全（审批与沙箱）：<a href="https://developers.openai.com/codex/security#sandbox-and-approvals" target="_blank" rel="noopener noreferrer">sandbox-and-approvals</a></li>
                                <li>MCP：<a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">Model Context Protocol</a></li>
                            </ul>

                            <h2>配置优先级（从高到低）</h2>
                            <ol>
                                <li>CLI 参数与 <code>--config</code> 临时覆盖</li>
                                <li>通过 <code>--profile</code> 选择的 profile 值</li>
                                <li>项目内 <code>.codex/config.toml</code>（从项目根向下，离当前目录越近优先级越高）</li>
                                <li>用户配置 <code>~/.codex/config.toml</code></li>
                                <li>系统配置（Unix 下通常是 <code>/etc/codex/config.toml</code>）</li>
                                <li>内置默认值</li>
                            </ol>
                            <p>如果项目被标记为不受信任，Codex 会跳过项目级 <code>.codex</code> 配置层。</p>

                            <h2>常见配置项</h2>
                            <h3>默认模型</h3>
                            <pre><code class="language-toml">model = "gpt-5.2"</code></pre>

                            <h3>审批策略</h3>
                            <pre><code class="language-toml">approval_policy = "on-request"</code></pre>
                            <p>行为差异见官方安全文档：<a href="https://developers.openai.com/codex/security#run-without-approval-prompts" target="_blank" rel="noopener noreferrer">run-without-approval-prompts</a>。</p>

                            <h3>沙箱级别</h3>
                            <pre><code class="language-toml">sandbox_mode = "workspace-write"</code></pre>
                            <p>受保护路径与网络访问详见：<a href="https://developers.openai.com/codex/security#protected-paths-in-writable-roots" target="_blank" rel="noopener noreferrer">protected-paths</a>、<a href="https://developers.openai.com/codex/security#network-access" target="_blank" rel="noopener noreferrer">network-access</a>。</p>

                            <h3>Web 搜索模式</h3>
                            <pre><code class="language-toml">web_search = "cached"  # 默认，使用 OpenAI 维护的缓存索引
# web_search = "live"  # 拉取最新网页（等价于 --search）
# web_search = "disabled"</code></pre>

                            <h3>推理强度</h3>
                            <pre><code class="language-toml">model_reasoning_effort = "high"</code></pre>

                            <h3>沟通风格</h3>
                            <pre><code class="language-toml">personality = "friendly" # 或 "pragmatic" / "none"</code></pre>

                            <h3>命令环境变量策略</h3>
                            <pre><code class="language-toml">[shell_environment_policy]
include_only = ["PATH", "HOME"]</code></pre>

                            <h3>日志目录</h3>
                            <pre><code class="language-toml">log_dir = "/absolute/path/to/codex-logs"</code></pre>

                            <h2>Feature flags（功能开关）</h2>
                            <p>Feature flags 用于开启实验性能力（例如多智能体）。</p>
                            <h3>如何开启</h3>
                            <pre><code class="language-toml">[features]
multi_agent = true</code></pre>
                            <p>功能成熟度与可用性见：<a href="https://developers.openai.com/codex/feature-maturity" target="_blank" rel="noopener noreferrer">Feature Maturity</a>。</p>
                            <ul>
                                <li>Profiles：<a href="https://developers.openai.com/codex/config-advanced#profiles" target="_blank" rel="noopener noreferrer">config-advanced#profiles</a></li>
                                <li>一次性覆盖：<a href="https://developers.openai.com/codex/config-advanced#one-off-overrides-from-the-cli" target="_blank" rel="noopener noreferrer">one-off-overrides-from-the-cli</a></li>
                                <li>托管配置：<a href="https://developers.openai.com/codex/security#managed-configuration" target="_blank" rel="noopener noreferrer">managed-configuration</a></li>
                                <li>管理员强制要求：<a href="https://developers.openai.com/codex/security#admin-enforced-requirements-requirementstoml" target="_blank" rel="noopener noreferrer">requirements.toml</a></li>
                                <li>审批与沙箱组合：<a href="https://developers.openai.com/codex/security#common-sandbox-and-approval-combinations" target="_blank" rel="noopener noreferrer">common-sandbox-and-approval-combinations</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- RULES SECTION -->
                <section id="rules" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Rules（执行规则）</h1>
                        <p class="subtitle">用规则控制 Codex 在沙箱外可执行的命令范围。</p>

                        <div class="intro-block">
                            <p>Rules 用于约束“沙箱外执行”行为。团队可在 Team Config 层统一下发，个人也可在本机规则层定义默认策略。</p>

                            <h2>创建规则文件</h2>
                            <ol>
                                <li>在规则目录创建 <code>.rules</code> 文件（例如 <code>~/.codex/rules/default.rules</code>）。</li>
                                <li>写入规则后重启 Codex。</li>
                            </ol>
                            <p>示例：执行 <code>gh pr view</code> 前强制提示确认。</p>
                            <pre><code class="language-python"># 在沙箱外执行 gh pr view 前弹确认
prefix_rule(
    pattern=["gh", "pr", "view"],
    decision="prompt",
    justification="查看 PR 允许，但需要人工确认",
    match=[
        "gh pr view 7888",
    ],
    not_match=[
        "gh pr list",
    ],
)</code></pre>

                            <h2>理解规则字段</h2>
                            <ul>
                                <li><code>pattern</code>（必填）：命令前缀匹配模式。可用字面量，也可在某个参数位使用备选集合。</li>
                                <li><code>decision</code>（默认 <code>allow</code>）：<code>allow</code> / <code>prompt</code> / <code>forbidden</code>。多条命中时取最严格（<code>forbidden &gt; prompt &gt; allow</code>）。</li>
                                <li><code>justification</code>（可选）：给出人类可读理由。</li>
                                <li><code>match</code> / <code>not_match</code>（可选）：内联“单元测试”，用于验证规则是否按预期匹配。</li>
                            </ul>

                            <h2>Shell 包装与复合命令</h2>
                            <p>例如下面这种命令，可能把多个动作藏在一个脚本字符串里：</p>
                            <pre><code class="language-text">["bash", "-lc", "git add . &amp;&amp; rm -rf /"]</code></pre>
                            <p>Codex 会对 <code>bash -lc</code> / <code>bash -c</code>（以及 <code>zsh</code>/<code>sh</code> 等）做特殊处理：</p>

                            <h3>可安全拆分时</h3>
                            <p>若脚本是由“纯命令 + 安全连接符（<code>&amp;&amp;</code>/<code>||</code>/<code>;</code>/<code>|</code>）”组成，Codex 会先拆分再逐条套规则。</p>
                            <p>以上示例会被视为两条命令：<code>["git","add","."]</code> 与 <code>["rm","-rf","/"]</code>，最终按最严格决策处理。</p>

                            <h3>不可安全拆分时</h3>
                            <p>若脚本包含重定向、变量替换、通配符、控制流等高级语法，Codex 不会尝试拆分，而是整体按一条命令处理：</p>
                            <pre><code class="language-text">["bash", "-lc", "&lt;full script&gt;"]</code></pre>

                            <h2>测试规则文件</h2>
                            <p>可用 <code>codex execpolicy check</code> 验证命令命中结果：</p>
                            <pre><code class="language-shell">codex execpolicy check --pretty \
  --rules ~/.codex/rules/default.rules \
  -- gh pr view 7888 --json title,body,comments</code></pre>
                            <p>输出会给出最终决策与命中的规则（含 <code>justification</code>）。</p>

                            <h2>规则语言</h2>
                            <p><code>.rules</code> 使用 Starlark 语法，规范见：<a href="https://github.com/bazelbuild/starlark/blob/master/spec.md" target="_blank" rel="noopener noreferrer">Starlark language spec</a>。</p>
                            <ul>
                                <li>官方规则文档：<a href="https://developers.openai.com/codex/rules" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/rules</a></li>
                                <li>Team Config：<a href="https://developers.openai.com/codex/enterprise/admin-setup#team-config" target="_blank" rel="noopener noreferrer">team-config</a></li>
                                <li>管理员强制要求：<a href="https://developers.openai.com/codex/security#admin-enforced-requirements-requirementstoml" target="_blank" rel="noopener noreferrer">requirements.toml</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- AGENTS.MD SECTION -->
                <section id="agents-md" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>使用 AGENTS.md 自定义指令</h1>
                        <p class="subtitle">通过“全局 + 项目 + 子目录覆盖”的分层方式，让 Codex 每次启动都带着正确上下文工作。</p>

                        <div class="intro-block">
                            <p>Codex 会在执行任务前读取 <code>AGENTS.md</code> 系列文件。你可以把通用偏好放在全局，把项目规则放在仓库，再用子目录覆盖处理局部差异。</p>

                            <h2>Codex 如何发现指令文件</h2>
                            <ol>
                                <li>全局层：在 Codex Home（默认 <code>~/.codex</code>）优先读取 <code>AGENTS.override.md</code>，否则读取 <code>AGENTS.md</code>。</li>
                                <li>项目层：从项目根目录走到当前目录；每一层最多读取一个文件，优先级为 <code>AGENTS.override.md &gt; AGENTS.md &gt; fallback 文件名</code>。</li>
                                <li>合并顺序：从根到当前目录拼接，越靠近当前目录的内容越“后出现”，因此覆盖力更强。</li>
                            </ol>
                            <p>空文件会被跳过；总大小默认受 <code>project_doc_max_bytes</code> 限制（默认 32KiB）。</p>

                            <h2>创建全局指令</h2>
                            <pre><code class="language-shell">mkdir -p ~/.codex</code></pre>
                            <pre><code class="language-markdown"># ~/.codex/AGENTS.md
## 工作约定
- 修改 JavaScript 文件后必须运行 `npm test`
- 安装依赖优先使用 `pnpm`
- 新增生产依赖前必须先确认</code></pre>
                            <p>验证方式：</p>
                            <pre><code class="language-shell">codex --ask-for-approval never "总结当前加载的指令"</code></pre>

                            <h2>叠加项目指令</h2>
                            <p>仓库根目录加一份基础规范，再在子目录放 override：</p>
                            <pre><code class="language-markdown"># AGENTS.md
## 仓库规范
- 提交 PR 前运行 `npm run lint`
- 修改公共工具函数时同步更新 docs/</code></pre>
                            <pre><code class="language-markdown"># services/payments/AGENTS.override.md
## 支付服务规则
- 使用 `make test-payments`，不要直接跑 `npm test`
- 轮换 API Key 前必须通知安全频道</code></pre>
                            <pre><code class="language-shell">codex --cd services/payments --ask-for-approval never "列出你加载了哪些指令文件"</code></pre>

                            <h2>自定义 fallback 文件名</h2>
                            <p>如果你们历史上不是用 <code>AGENTS.md</code>，可在配置里声明备用文件名：</p>
                            <pre><code class="language-toml"># ~/.codex/config.toml
project_doc_fallback_filenames = ["TEAM_GUIDE.md", ".agents.md"]
project_doc_max_bytes = 65536</code></pre>

                            <h2>验证与排障</h2>
                            <ul>
                                <li>用 <code>codex --ask-for-approval never "Summarize the current instructions."</code> 检查加载顺序。</li>
                                <li>指令不生效时，先确认文件非空、目录位置正确、并重启 Codex。</li>
                                <li>如果出现“读到旧规则”，优先排查更高层目录或 <code>~/.codex</code> 下是否存在 <code>AGENTS.override.md</code>。</li>
                                <li>若怀疑用了错误 home，先执行 <code>echo $CODEX_HOME</code>。</li>
                            </ul>

                            <h2>下一步</h2>
                            <ul>
                                <li>AGENTS.md 官方站点：<a href="https://agents.md" target="_blank" rel="noopener noreferrer">agents.md</a></li>
                                <li>Codex 指令发现机制：<a href="https://developers.openai.com/codex/config-advanced#project-instructions-discovery" target="_blank" rel="noopener noreferrer">project-instructions-discovery</a></li>
                                <li>提示词指南：<a href="https://developers.openai.com/codex/prompting" target="_blank" rel="noopener noreferrer">Prompting Codex</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- MCP SECTION -->
                <section id="mcp" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Model Context Protocol（MCP）</h1>
                        <p class="subtitle">让 Codex 连接外部工具与上下文：文档、浏览器、设计系统、监控平台等。</p>

                        <div class="intro-block">
                            <p>MCP 让模型通过统一协议接入工具和数据源。Codex 在 CLI 与 IDE 扩展里都支持 MCP，且共享同一份配置。</p>

                            <h2>支持的 MCP 类型</h2>
                            <ul>
                                <li><strong>STDIO 服务器：</strong>本地命令拉起进程，通过标准输入输出通信。</li>
                                <li><strong>Streamable HTTP 服务器：</strong>通过 URL 访问，支持 Bearer Token 与 OAuth（支持时可执行 <code>codex mcp login &lt;server-name&gt;</code>）。</li>
                            </ul>

                            <h2>把 Codex 连接到 MCP 服务器</h2>
                            <p>MCP 配置存放在 <code>config.toml</code>（通常是 <code>~/.codex/config.toml</code>，或项目内 <code>.codex/config.toml</code>）。</p>
                            <h3>方式一：用 CLI 配置</h3>
                            <pre><code class="language-shell">codex mcp add &lt;server-name&gt; --env VAR1=VALUE1 --env VAR2=VALUE2 -- &lt;stdio server-command&gt;</code></pre>
                            <p>例如添加 Context7：</p>
                            <pre><code class="language-shell">codex mcp add context7 -- npx -y @upstash/context7-mcp</code></pre>
                            <p>更多命令：<code>codex mcp --help</code>；TUI 中可用 <code>/mcp</code> 查看激活服务器。</p>

                            <h3>方式二：直接编辑 config.toml</h3>
                            <p>每个服务器使用 <code>[mcp_servers.&lt;name&gt;]</code> 配置块。</p>
                            <h4>STDIO 常用字段</h4>
                            <ul>
                                <li><code>command</code>（必填）：启动命令</li>
                                <li><code>args</code> / <code>env</code> / <code>env_vars</code> / <code>cwd</code>（可选）</li>
                            </ul>
                            <h4>Streamable HTTP 常用字段</h4>
                            <ul>
                                <li><code>url</code>（必填）</li>
                                <li><code>bearer_token_env_var</code> / <code>http_headers</code> / <code>env_http_headers</code>（可选）</li>
                            </ul>
                            <h4>通用字段</h4>
                            <ul>
                                <li><code>startup_timeout_sec</code>（默认 10）</li>
                                <li><code>tool_timeout_sec</code>（默认 60）</li>
                                <li><code>enabled</code>、<code>required</code>、<code>enabled_tools</code>、<code>disabled_tools</code></li>
                            </ul>

                            <h2>config.toml 示例</h2>
                            <pre><code class="language-toml">[mcp_servers.context7]
command = "npx"
args = ["-y", "@upstash/context7-mcp"]

[mcp_servers.context7.env]
MY_ENV_VAR = "MY_ENV_VALUE"</code></pre>

                            <pre><code class="language-toml">[mcp_servers.figma]
url = "https://mcp.figma.com/mcp"
bearer_token_env_var = "FIGMA_OAUTH_TOKEN"
http_headers = { "X-Figma-Region" = "us-east-1" }</code></pre>

                            <pre><code class="language-toml">[mcp_servers.chrome_devtools]
url = "http://localhost:3000/mcp"
enabled_tools = ["open", "screenshot"]
disabled_tools = ["screenshot"] # 在 enabled_tools 之后再应用
startup_timeout_sec = 20
tool_timeout_sec = 45
enabled = true</code></pre>

                            <h2>常用 MCP 服务器</h2>
                            <ul>
                                <li>OpenAI Docs MCP：<a href="https://developers.openai.com/resources/docs-mcp" target="_blank" rel="noopener noreferrer">resources/docs-mcp</a></li>
                                <li>Context7：<a href="https://github.com/upstash/context7" target="_blank" rel="noopener noreferrer">github.com/upstash/context7</a></li>
                                <li>Figma Local / Remote：<a href="https://developers.figma.com/docs/figma-mcp-server/local-server-installation/" target="_blank" rel="noopener noreferrer">local</a> / <a href="https://developers.figma.com/docs/figma-mcp-server/remote-server-installation/" target="_blank" rel="noopener noreferrer">remote</a></li>
                                <li>Playwright：<a href="https://www.npmjs.com/package/@playwright/mcp" target="_blank" rel="noopener noreferrer">@playwright/mcp</a></li>
                                <li>Chrome DevTools：<a href="https://github.com/ChromeDevTools/chrome-devtools-mcp/" target="_blank" rel="noopener noreferrer">chrome-devtools-mcp</a></li>
                                <li>Sentry：<a href="https://docs.sentry.io/product/sentry-mcp/#codex" target="_blank" rel="noopener noreferrer">Sentry MCP</a></li>
                                <li>GitHub：<a href="https://github.com/github/github-mcp-server" target="_blank" rel="noopener noreferrer">github-mcp-server</a></li>
                            </ul>

                            <p>官方页面：<a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/mcp</a></p>
                        </div>
                    </article>
                </section>

                <!-- SKILLS SECTION -->
                <section id="skills" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Agent Skills（技能）</h1>
                        <p class="subtitle">把“可复用能力”打包成技能，在 CLI、IDE、App 三端复用。</p>

                        <div class="intro-block">
                            <p>技能用于给 Codex 添加任务专用能力：一份技能通常包含 <code>SKILL.md</code> 指令、可选脚本与参考资料。技能遵循开放标准：<a href="https://agentskills.io" target="_blank" rel="noopener noreferrer">agentskills.io</a>。</p>
                            <p>Codex 采用“渐进加载”：先读取技能元信息（名称、描述、路径等），只有决定要用时才加载完整 <code>SKILL.md</code>，以降低上下文负担。</p>

                            <h2>Codex 如何触发技能</h2>
                            <ol>
                                <li><strong>显式触发：</strong>在提示词里直接点名技能（CLI/IDE 可用 <code>/skills</code> 或 <code>$skill-name</code>）。</li>
                                <li><strong>隐式触发：</strong>任务与技能描述匹配时，Codex 自动启用。</li>
                            </ol>
                            <p>因此技能描述必须写清“何时触发 / 何时不触发”。</p>

                            <h2>创建技能</h2>
                            <p>推荐先用内置创建器：</p>
                            <pre><code class="language-text">$skill-creator</code></pre>
                            <p>也可以手工创建：</p>
                            <pre><code class="language-markdown">---
name: skill-name
description: 说明技能的触发边界与适用场景
---

这里写技能执行说明</code></pre>

                            <h2>技能存放位置</h2>
                            <p>Codex 会在仓库层、用户层、管理员层与系统层扫描技能目录。</p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>作用域</th>
                                        <th>位置</th>
                                        <th>典型用途</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>REPO</td>
                                        <td><code>$CWD/.agents/skills</code></td>
                                        <td>当前工作目录专用技能</td>
                                    </tr>
                                    <tr>
                                        <td>REPO</td>
                                        <td><code>$CWD/../.agents/skills</code></td>
                                        <td>父目录共享技能</td>
                                    </tr>
                                    <tr>
                                        <td>REPO</td>
                                        <td><code>$REPO_ROOT/.agents/skills</code></td>
                                        <td>仓库级通用技能</td>
                                    </tr>
                                    <tr>
                                        <td>USER</td>
                                        <td><code>$HOME/.agents/skills</code></td>
                                        <td>用户个人跨仓库技能</td>
                                    </tr>
                                    <tr>
                                        <td>ADMIN</td>
                                        <td><code>/etc/codex/skills</code></td>
                                        <td>机器/容器统一技能</td>
                                    </tr>
                                    <tr>
                                        <td>SYSTEM</td>
                                        <td>Codex 内置</td>
                                        <td>如 <code>skill-creator</code> 等通用技能</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h2>安装技能</h2>
                            <p>可使用安装器：</p>
                            <pre><code class="language-shell">$skill-installer install the linear skill from the .experimental folder</code></pre>
                            <p>安装后通常自动可见，若未生效可重启 Codex。</p>

                            <h2>禁用/启用技能</h2>
                            <pre><code class="language-toml">[[skills.config]]
path = "/path/to/skill/SKILL.md"
enabled = false</code></pre>
                            <p>修改 <code>~/.codex/config.toml</code> 后需要重启 Codex。</p>

                            <h2>可选元数据（agents/openai.yaml）</h2>
                            <p>可为 <a href="https://developers.openai.com/codex/app" target="_blank" rel="noopener noreferrer">Codex App</a> 配置显示信息、隐式触发策略与依赖工具：</p>
                            <pre><code class="language-yaml">interface:
  display_name: "可选显示名"
  short_description: "可选短描述"
  icon_small: "./assets/small-logo.svg"
  icon_large: "./assets/large-logo.png"
  brand_color: "#3B82F6"
  default_prompt: "可选默认提示词"

policy:
  allow_implicit_invocation: false

dependencies:
  tools:
    - type: "mcp"
      value: "openaiDeveloperDocs"
      description: "OpenAI Docs MCP server"
      transport: "streamable_http"
      url: "https://developers.openai.com/mcp"</code></pre>

                            <h2>最佳实践</h2>
                            <ul>
                                <li>一个技能只做一件事，职责边界清晰。</li>
                                <li>除非必须确定性执行，否则优先“纯指令”而不是脚本。</li>
                                <li>步骤写成可执行指令，明确输入与输出。</li>
                                <li>用真实提示词回归测试触发边界是否正确。</li>
                            </ul>

                            <ul>
                                <li>官方页面：<a href="https://developers.openai.com/codex/skills" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/skills</a></li>
                                <li>示例仓库：<a href="https://github.com/openai/skills" target="_blank" rel="noopener noreferrer">github.com/openai/skills</a></li>
                                <li>规范文档：<a href="https://agentskills.io/specification" target="_blank" rel="noopener noreferrer">agentskills.io/specification</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CONFIG MULTI-AGENT SECTION -->
                <section id="config-multi-agent" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>多智能体（配置）</h1>
                        <p class="subtitle">开启并配置并行子代理工作流，让复杂任务拆分执行后统一汇总。</p>
                        <div class="intro-block">
                            <p>Codex 支持并行拉起多个子代理执行专项任务，再由主代理统一汇总结果。这在大规模代码巡检、并行评审、多步骤改造任务中尤其有效。</p>

                            <h2>开启多智能体</h2>
                            <p>该能力属于实验性功能，可通过配置开启：</p>
                            <pre><code class="language-toml">[features]
multi_agent = true</code></pre>
                            <p>也可在 CLI 中使用 <code>/experimental</code> 打开后重启会话。</p>

                            <h2>典型工作流</h2>
                            <p>Codex 负责子代理编排：拉起、路由后续指令、等待结果、合并回复。你既可以让 Codex 自动决定何时开子代理，也可以显式要求。</p>
                            <pre><code class="language-text">I would like to review the following points on the current PR (this branch vs main). Spawn one agent per point, wait for all of them, and summarize the result for each point.
1. Security issue
2. Code quality
3. Bugs
4. Race
5. Test flakiness
6. Maintainability of the code</code></pre>

                            <h2>管理子代理</h2>
                            <ul>
                                <li>CLI 中用 <code>/agent</code> 在活跃代理线程间切换并查看进度。</li>
                                <li>可直接让 Codex 调整某个子代理、停止它，或关闭已完成线程。</li>
                            </ul>

                            <h2>审批与沙箱控制</h2>
                            <p>子代理会继承当前沙箱策略，但以“非交互审批”方式运行。如果子代理触发新的审批需求，该动作会失败并把错误返回主流程。</p>

                            <h2>Agent 角色配置</h2>
                            <p>在 <code>[agents]</code> 下定义角色，可放在用户配置或项目配置中：</p>
                            <pre><code class="language-toml">[agents.default]
description = "General-purpose helper."

[agents.reviewer]
description = "Find security, correctness, and test risks in code."
config_file = "agents/reviewer.toml"

[agents.explorer]
description = "Fast codebase explorer for read-heavy tasks."
config_file = "agents/custom-explorer.toml"</code></pre>

                            <p>角色可覆盖主会话配置，例如模型、推理强度、沙箱模式、额外开发指令：</p>
                            <pre><code class="language-toml"># ~/.codex/agents/reviewer.toml
model = "gpt-5.3-codex"
model_reasoning_effort = "high"
developer_instructions = "Focus on high priority issues, write tests to validate hypothesis before flagging an issue. When finding security issues give concrete steps on how to reproduce the vulnerability."</code></pre>

                            <h2>字段速览</h2>
                            <ul>
                                <li><code>agents.max_threads</code>：最大并发代理线程数</li>
                                <li><code>[agents.&lt;name&gt;]</code>：声明一个角色</li>
                                <li><code>agents.&lt;name&gt;.description</code>：角色使用说明</li>
                                <li><code>agents.&lt;name&gt;.config_file</code>：该角色附加 TOML 配置路径</li>
                            </ul>
                            <p>更多概念与权衡（如 context rot）参见：<a href="https://developers.openai.com/codex/concepts/multi-agents" target="_blank" rel="noopener noreferrer">Multi-agents concepts</a>。</p>
                            <p>配置优先级：<a href="https://developers.openai.com/codex/config-basic#configuration-precedence" target="_blank" rel="noopener noreferrer">configuration-precedence</a>；功能开关：<a href="https://developers.openai.com/codex/config-basic#feature-flags" target="_blank" rel="noopener noreferrer">feature-flags</a>。</p>
                            <p>官方配置页：<a href="https://developers.openai.com/codex/multi-agent" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/multi-agent</a></p>
                        </div>
                    </article>
                </section>

                <!-- MULTI-AGENTS SECTION -->
                <section id="multi-agents" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>多智能体</h1>
                        <p class="subtitle">把复杂任务拆成多个并行代理，降低单线程上下文负担并提高交付速度。</p>
                        <div class="intro-block">
                            <h2>为什么多智能体工作流有效</h2>
                            <p>大任务放在单线程中，容易出现上下文老化与信息拥塞。拆分为多个专职代理后，任务边界更清晰，执行结果更易审查。</p>

                            <h2>核心术语</h2>
                            <ul>
                                <li><strong>主代理（Coordinator）：</strong>负责规划与汇总。</li>
                                <li><strong>子代理（Workers）：</strong>负责具体子任务（如测试、重构、文档）。</li>
                                <li><strong>交接点（Handoff）：</strong>在可验证结果上完成上下游切换。</li>
                            </ul>

                            <h2>模型与推理强度选择</h2>
                            <h3>模型选择</h3>
                            <p>复杂推理与大规模修改可用能力更强模型；高频小任务可选更快模型。</p>
                            <h3>推理强度（<code>model_reasoning_effort</code>）</h3>
                            <p>在速度与深度之间平衡：高强度适合复杂任务，低强度适合快速迭代。</p>

                            <h2>参考链接</h2>
                            <ul>
                                <li>官方多智能体页面：<a href="https://developers.openai.com/codex/concepts/multi-agents" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/concepts/multi-agents</a></li>
                                <li>多智能体入口：<a href="https://developers.openai.com/codex/multi-agent" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/multi-agent</a></li>
                                <li>模型说明：<a href="https://developers.openai.com/codex/models" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/models</a></li>
                                <li>配置基础：<a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/config-basic</a></li>
                                <li>配置参考：<a href="https://developers.openai.com/codex/config-reference" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/config-reference</a></li>
                                <li>Context rot 研究：<a href="https://research.trychroma.com/context-rot" target="_blank" rel="noopener noreferrer">research.trychroma.com/context-rot</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CYBER-SAFETY SECTION -->
                <section id="cyber-safety" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>网络安全</h1>
                        <p class="subtitle">介绍 Codex 在高风险网络安全场景中的访问控制与安全边界。</p>
                        <div class="intro-block">
                            <h2>为什么要做这件事</h2>
                            <p>网络安全任务往往具有高风险与高不确定性，需要更严格的身份、访问与误报处理机制。</p>

                            <h2>如何工作</h2>
                            <p>Codex 在受控环境中运行，并在策略层限制高风险能力，结合审核和分级访问来降低滥用风险。</p>

                            <h2>Trusted Access for Cyber</h2>
                            <p>面向特定安全团队提供更严格的访问与评估流程，用于保障高敏感场景的可控使用。</p>

                            <h2>误报（False positives）</h2>
                            <p>如被错误拦截，可通过官方渠道提交复核信息，系统会持续改进误报识别。</p>

                            <h2>官方资料</h2>
                            <ul>
                                <li>Cyber Safety 页面：<a href="https://developers.openai.com/codex/concepts/cyber-safety" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/concepts/cyber-safety</a></li>
                                <li>GPT-5.3-Codex 介绍：<a href="https://openai.com/index/introducing-gpt-5-3-codex/" target="_blank" rel="noopener noreferrer">openai.com/index/introducing-gpt-5-3-codex</a></li>
                                <li>Trusted Access for Cyber：<a href="https://openai.com/index/trusted-access-for-cyber/" target="_blank" rel="noopener noreferrer">openai.com/index/trusted-access-for-cyber</a></li>
                                <li>Preparedness Framework：<a href="https://cdn.openai.com/pdf/18a02b5d-6b67-4cec-ab64-68cdfbddebcd/preparedness-framework-v2.pdf" target="_blank" rel="noopener noreferrer">preparedness-framework-v2.pdf</a></li>
                                <li>强化网络韧性：<a href="https://openai.com/index/strengthening-cyber-resilience/" target="_blank" rel="noopener noreferrer">openai.com/index/strengthening-cyber-resilience</a></li>
                                <li>chatgpt.com/cyber：<a href="https://chatgpt.com/cyber" target="_blank" rel="noopener noreferrer">chatgpt.com/cyber</a></li>
                                <li>申请 trusted access：<a href="https://openai.com/form/enterprise-trusted-access-for-cyber/" target="_blank" rel="noopener noreferrer">openai.com/form/enterprise-trusted-access-for-cyber</a></li>
                                <li>邀请制项目申请：<a href="https://docs.google.com/forms/d/e/1FAIpQLSea_ptovrS3xZeZ9FoZFkKtEJFWGxNrZb1c52GW4BVjB2KVNA/viewform?usp=header" target="_blank" rel="noopener noreferrer">Google Form</a></li>
                                <li>政策页面：<a href="https://openai.com/policies/usage-policies/" target="_blank" rel="noopener noreferrer">usage-policies</a> / <a href="https://openai.com/policies/row-terms-of-use/" target="_blank" rel="noopener noreferrer">terms-of-use</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CUSTOMIZATION SECTION -->
                <section id="customization" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>自定义</h1>
                        <p class="subtitle">通过 AGENTS.md、Skills、MCP 与 Multi-agents 组合出团队级工作方式。</p>

                        <div class="intro-block">
                            <p>官方页面：<a href="https://developers.openai.com/codex/concepts/customization" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/concepts/customization</a></p>

                            <h2>AGENTS 指导（AGENTS Guidance）</h2>
                            <p>用 <code>AGENTS.md</code> 约定项目规则，让 Codex 在不同入口保持一致行为。</p>
                            <h3>什么时候需要更新 AGENTS.md</h3>
                            <ul>
                                <li>团队编码规范变化（命名、测试、审查要求）</li>
                                <li>目录结构或构建流程变化</li>
                                <li>安全边界、审批规则、发布流程变化</li>
                            </ul>

                            <h2>Skills</h2>
                            <p>把可复用做法封装为技能，适合标准化重复任务。</p>

                            <h2>MCP</h2>
                            <p>通过 MCP 连接外部系统（数据库、工单、内部 API），把上下文拉入同一工作流。</p>

                            <h2>多智能体（Multi-agents）</h2>
                            <p>将复杂任务拆为多个代理并行执行，由协调代理统一收敛结果。</p>

                            <h2>Skills + MCP 组合</h2>
                            <p>技能负责方法论，MCP 负责数据与工具接入。二者组合后，能够在复杂任务中保持稳定质量与可复用性。</p>

                            <h2>下一步</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/guides/agents-md" target="_blank" rel="noopener noreferrer">Custom instructions with AGENTS.md</a></li>
                                <li><a href="https://developers.openai.com/codex/skills" target="_blank" rel="noopener noreferrer">Agent Skills</a></li>
                                <li><a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">Model Context Protocol（MCP）</a></li>
                                <li><a href="https://developers.openai.com/codex/concepts/multi-agents" target="_blank" rel="noopener noreferrer">Multi-agents concepts</a></li>
                                <li><a href="https://developers.openai.com/codex/app/automations" target="_blank" rel="noopener noreferrer">Automations</a></li>
                                <li><a href="https://developers.openai.com/codex/multi-agent" target="_blank" rel="noopener noreferrer">Multi-agents 入口</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- WORKFLOWS SECTION -->
                <section id="workflows" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>工作流</h1>
                        <p class="subtitle">官方推荐的任务模板：从理解代码到修复、测试、审查与文档更新。</p>

                        <div class="intro-block">
                            <h2>如何阅读这些示例</h2>
                            <p>每个示例都给出建议入口（IDE/CLI）和适用场景，便于你按当前任务直接套用。</p>

                            <h2>解释一个代码库</h2>
                            <h2>修复一个 Bug</h2>
                            <h2>编写一个测试</h2>
                            <h2>从截图快速做原型</h2>
                            <h2>实时迭代 UI</h2>
                            <h2>把重构任务委托到云端</h2>
                            <h2>本地代码审查</h2>
                            <h2>审查 GitHub Pull Request</h2>
                            <h2>更新文档</h2>

                            <h3>IDE 工作流（适合本地快速探索）</h3>
                            <h3>CLI 工作流（适合保留完整命令记录）</h3>
                            <h3>CLI 工作流（适合复现 + 验证闭环）</h3>
                            <h3>云端委托（IDE → Cloud）</h3>

                            <h2>官方链接</h2>
                            <ul>
                                <li>工作流页面：<a href="https://developers.openai.com/codex/workflows" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/workflows</a></li>
                                <li>提示词页面：<a href="https://developers.openai.com/codex/prompting" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/prompting</a></li>
                                <li>云端环境：<a href="https://developers.openai.com/codex/cloud/environments" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/cloud/environments</a></li>
                                <li>GitHub 审查：<a href="https://developers.openai.com/codex/integrations/github" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/integrations/github</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- APP COMMANDS SECTION -->
                <section id="app-commands" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 应用命令</h1>
                        <p class="subtitle">应用内键盘快捷键与斜杠命令说明。</p>
                        <div class="intro-block">
                            <h2>键盘快捷键</h2>
                            <h2>斜杠命令</h2>
                            <h3>如何使用斜杠命令</h3>
                            <h3>可用斜杠命令</h3>
                            <h2>参见</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/skills" target="_blank" rel="noopener noreferrer">Skills</a></li>
                                <li><a href="https://developers.openai.com/codex/app/features" target="_blank" rel="noopener noreferrer">Features</a></li>
                                <li><a href="https://developers.openai.com/codex/app/settings" target="_blank" rel="noopener noreferrer">Settings</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/app/commands" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/app/commands</a></p>
                        </div>
                    </article>
                </section>

                <!-- APP AUTOMATIONS SECTION -->
                <section id="app-automations" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>自动化（Automations）</h1>
                        <p class="subtitle">把重复任务变成可定时执行的稳定流程。</p>
                        <div class="intro-block">
                            <h2>管理任务</h2>
                            <h2>安全测试自动化</h2>
                            <h2>自动化工作树清理</h2>
                            <h2>权限与安全模型</h2>
                            <h2>示例</h2>
                            <h3>自动创建新技能</h3>
                            <h3>持续跟踪项目变化</h3>
                            <h3>结合技能自动修复问题</h3>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/create-automation-dark.webp"><img src="https://developers.openai.com/images/codex/app/create-automation-light.webp" alt="Automation" style="width:100%;border-radius:12px;"></picture>
                            <ul>
                                <li>技能：<a href="https://developers.openai.com/codex/skills" target="_blank" rel="noopener noreferrer">skills</a></li>
                                <li>工作树：<a href="https://developers.openai.com/codex/app/worktrees" target="_blank" rel="noopener noreferrer">worktree</a></li>
                                <li>工作树支持锚点：<a href="https://developers.openai.com/codex/app/features#worktree-support" target="_blank" rel="noopener noreferrer">worktree support</a></li>
                                <li>规则：<a href="https://developers.openai.com/codex/rules" target="_blank" rel="noopener noreferrer">rules</a></li>
                                <li>管理员策略：<a href="https://developers.openai.com/codex/security#admin-enforced-requirements-requirementstoml" target="_blank" rel="noopener noreferrer">requirements.toml</a></li>
                                <li>技能保存位置：<a href="https://developers.openai.com/codex/skills#where-to-save-skills" target="_blank" rel="noopener noreferrer">where to save skills</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- APP REVIEW SECTION -->
                <section id="app-review" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>审查（Review）</h1>
                        <p class="subtitle">在应用内逐文件审查、评论、暂存与回退改动。</p>
                        <div class="intro-block">
                            <h2>显示哪些改动</h2>
                            <h2>如何浏览审查面板</h2>
                            <h2>内联评论反馈</h2>
                            <h2>代码审查结果</h2>
                            <h2>暂存与回退文件</h2>
                            <h3>部分暂存状态</h3>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/inline-code-review-dark.webp"><img src="https://developers.openai.com/images/codex/app/inline-code-review-light.webp" alt="Inline review" style="width:100%;border-radius:12px;"></picture>
                            <p>相关设置：<a href="https://developers.openai.com/codex/app/settings" target="_blank" rel="noopener noreferrer">settings</a></p>
                        </div>
                    </article>
                </section>

                <!-- APP SETTINGS SECTION -->
                <section id="app-settings" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 应用设置</h1>
                        <p class="subtitle">集中管理应用行为、模型与集成。</p>
                        <div class="intro-block">
                            <h2>General</h2>
                            <h2>Appearance</h2>
                            <h2>Notifications</h2>
                            <h2>Agent configuration</h2>
                            <h2>Git</h2>
                            <h2>Integrations & MCP</h2>
                            <h2>Personalization</h2>
                            <h2>Archived threads</h2>
                            <ul>
                                <li>打开应用设置：<a href="codex://settings" target="_blank" rel="noopener noreferrer">codex://settings</a></li>
                                <li>安全文档：<a href="https://developers.openai.com/codex/security" target="_blank" rel="noopener noreferrer">Codex security</a></li>
                                <li>配置基础：<a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">config basics</a></li>
                                <li>MCP 文档：<a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">Model Context Protocol docs</a></li>
                                <li>个性化指令：<a href="https://developers.openai.com/codex/guides/agents-md" target="_blank" rel="noopener noreferrer">AGENTS.md</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- APP WORKTREES SECTION -->
                <section id="app-worktrees" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>工作树（Worktrees）</h1>
                        <p class="subtitle">在同一仓库并行推进多个任务，减少分支冲突。</p>
                        <div class="intro-block">
                            <h2>什么是工作树</h2>
                            <h2>术语</h2>
                            <h2>为什么要用工作树</h2>
                            <h2>快速开始</h2>
                            <h2>验证并推送改动</h2>
                            <h2>添加到侧边栏</h2>
                            <h2>高级细节</h2>
                            <h2>常见问题</h2>
                            <h3>方式 1：直接在工作树中开发</h3>
                            <h3>方式 2：在本地检出目录开发</h3>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/worktree-dark.webp"><img src="https://developers.openai.com/images/codex/app/worktree-light.webp" alt="Worktree" style="width:100%;border-radius:12px;"></picture>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/sync-worktree-dark.webp"><img src="https://developers.openai.com/images/codex/app/sync-worktree-light.webp" alt="Sync worktree" style="width:100%;border-radius:12px;margin-top:1rem;"></picture>
                            <ul>
                                <li>Git worktree 文档：<a href="https://git-scm.com/docs/git-worktree" target="_blank" rel="noopener noreferrer">git-scm.com/docs/git-worktree</a></li>
                                <li>detached HEAD 说明：<a href="https://git-scm.com/docs/git-checkout#_detached_head" target="_blank" rel="noopener noreferrer">git-checkout#_detached_head</a></li>
                                <li>Local environments：<a href="https://developers.openai.com/codex/app/local-environments" target="_blank" rel="noopener noreferrer">local environment</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- APP LOCAL SECTION -->
                <section id="app-local" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>本地环境（Local environments）</h1>
                        <p class="subtitle">管理 setup 脚本和可复用动作，提升本地执行一致性。</p>
                        <div class="intro-block">
                            <h2>Setup scripts</h2>
                            <h2>Actions</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/app/actions-dark.webp"><img src="https://developers.openai.com/images/codex/app/actions-light.webp" alt="Actions" style="width:100%;border-radius:12px;"></picture>
                            <ul>
                                <li>打开设置：<a href="codex://settings" target="_blank" rel="noopener noreferrer">codex://settings</a></li>
                                <li>集成终端：<a href="https://developers.openai.com/codex/app/features#integrated-terminal" target="_blank" rel="noopener noreferrer">integrated terminal</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- IDE FEATURES SECTION -->
                <section id="ide-features" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex IDE 扩展功能</h1>
                        <p class="subtitle">在 IDE 中快速切换模型、审批模式与云端委托。</p>
                        <div class="intro-block">
                            <h2>向 Codex 提问</h2>
                            <h2>切换模型</h2>
                            <img src="https://developers.openai.com/images/codex/ide/switch_model.png" alt="Switch model" style="width:100%;border-radius:12px;">
                            <h2>调整推理强度</h2>
                            <h2>选择审批模式</h2>
                            <img src="https://developers.openai.com/images/codex/ide/approval_mode.png" alt="Approval mode" style="width:100%;border-radius:12px;">
                            <h2>云端委托</h2>
                            <img src="https://developers.openai.com/images/codex/ide/start_cloud_task.png" alt="Start cloud task" style="width:100%;border-radius:12px;">
                            <h2>云任务继续跟进</h2>
                            <img src="https://developers.openai.com/images/codex/ide/load_cloud_task.png" alt="Load cloud task" style="width:100%;border-radius:12px;">
                            <h2>Web 搜索</h2>
                            <h2>拖拽图片到提示区</h2>
                            <h2>参见</h2>
                            <ul>
                                <li>云端环境：<a href="https://chatgpt.com/codex/settings/environments" target="_blank" rel="noopener noreferrer">cloud environment for Codex</a></li>
                                <li>Codex 云界面：<a href="https://chatgpt.com/codex" target="_blank" rel="noopener noreferrer">Codex cloud interface</a></li>
                                <li>安全模式：<a href="https://developers.openai.com/codex/security" target="_blank" rel="noopener noreferrer">full access</a></li>
                                <li>扩展设置：<a href="https://developers.openai.com/codex/ide/settings" target="_blank" rel="noopener noreferrer">IDE settings</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/ide/features" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/ide/features</a></p>
                        </div>
                    </article>
                </section>

                <!-- IDE COMMANDS SECTION -->
                <section id="ide-commands" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex IDE 扩展命令</h1>
                        <p class="subtitle">命令面板与快捷键绑定说明。</p>
                        <div class="intro-block">
                            <h2>绑定快捷键</h2>
                            <h2>扩展命令列表</h2>
                        </div>
                    </article>
                </section>

                <!-- IDE SLASH SECTION -->
                <section id="ide-slash" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex IDE 斜杠命令</h1>
                        <p class="subtitle">在 IDE 对话中快速调用命令。</p>
                        <div class="intro-block">
                            <h2>如何使用斜杠命令</h2>
                            <h2>可用斜杠命令</h2>
                        </div>
                    </article>
                </section>

                <!-- IDE SETTINGS SECTION -->
                <section id="ide-settings" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex IDE 扩展设置</h1>
                        <p class="subtitle">配置方式与设置项参考。</p>
                        <div class="intro-block">
                            <h2>修改设置</h2>
                            <h2>设置项参考</h2>
                            <p>配置基础：<a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">Config basics</a></p>
                        </div>
                    </article>
                </section>

                <!-- CLI FEATURES SECTION -->
                <section id="cli-features" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex CLI 功能</h1>
                        <p class="subtitle">从交互模式到脚本化运行的完整能力清单。</p>
                        <div class="intro-block">
                            <h2>交互模式</h2>
                            <h2>恢复会话</h2>
                            <h2>模型与推理</h2>
                            <h2>Feature flags</h2>
                            <h2>多智能体（实验）</h2>
                            <h2>图片输入</h2>
                            <h2>本地代码审查</h2>
                            <h2>Web 搜索</h2>
                            <h2>输入提示运行</h2>
                            <h2>Shell 补全</h2>
                            <h2>审批模式</h2>
                            <h2>脚本化运行</h2>
                            <h2>云端任务</h2>
                            <h2>斜杠命令</h2>
                            <h2>提示词编辑器</h2>
                            <h2>MCP</h2>
                            <h2>Tips and shortcuts</h2>
                            <ul>
                                <li>模型页面：<a href="https://developers.openai.com/codex/models" target="_blank" rel="noopener noreferrer">models</a></li>
                                <li>多智能体：<a href="https://developers.openai.com/codex/multi-agent" target="_blank" rel="noopener noreferrer">multi-agent</a></li>
                                <li>安全：<a href="https://developers.openai.com/codex/security" target="_blank" rel="noopener noreferrer">full access sandbox</a></li>
                                <li>MCP：<a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">Model Context Protocol</a></li>
                                <li>斜杠命令指南：<a href="https://developers.openai.com/codex/guides/slash-commands" target="_blank" rel="noopener noreferrer">slash commands guide</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/cli/features" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/cli/features</a></p>
                        </div>
                    </article>
                </section>

                <!-- CLI REFERENCE SECTION -->
                <section id="cli-reference" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>命令行选项</h1>
                        <p class="subtitle">CLI 选项参考与安全组合建议。</p>
                        <div class="intro-block">
                            <h2>如何阅读参考</h2>
                            <h2>全局参数</h2>
                            <h2>命令总览</h2>
                            <h2>命令细节</h2>
                            <h3>codex（interactive）</h3>
                            <h3>codex app-server</h3>
                            <h3>codex apply</h3>
                            <h3>codex cloud</h3>
                            <h3>codex exec</h3>
                            <h3>codex login / logout</h3>
                            <h3>codex mcp / mcp-server</h3>
                            <h3>codex resume / fork / sandbox</h3>
                            <h2>参数组合与安全建议</h2>
                            <h2>相关资源</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/config-basic#configuration-precedence" target="_blank" rel="noopener noreferrer">configuration precedence</a></li>
                                <li><a href="https://developers.openai.com/codex/feature-maturity" target="_blank" rel="noopener noreferrer">Feature Maturity</a></li>
                                <li><a href="https://developers.openai.com/codex/cli" target="_blank" rel="noopener noreferrer">CLI overview</a></li>
                                <li><a href="https://developers.openai.com/codex/config-advanced" target="_blank" rel="noopener noreferrer">Advanced Config</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/cli/reference" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/cli/reference</a></p>
                        </div>
                    </article>
                </section>

                <!-- CLI SLASH SECTION -->
                <section id="cli-slash" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex CLI 斜杠命令</h1>
                        <p class="subtitle">通过斜杠命令快速控制会话与执行状态。</p>
                        <div class="intro-block">
                            <h2>内置斜杠命令</h2>
                            <h3>/model /personality /plan</h3>
                            <h3>/permissions /sandbox-add-read-dir</h3>
                            <h3>/status /debug-config /statusline /ps</h3>
                            <h3>/compact /diff /mention /review</h3>
                            <h3>/new /resume /fork</h3>
                            <h3>/mcp /apps /agent /feedback</h3>
                            <h3>/logout /quit /exit</h3>
                            <h2>用斜杠命令控制会话</h2>
                            <p>官方页面：<a href="https://developers.openai.com/codex/cli/slash-commands" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/cli/slash-commands</a></p>
                        </div>
                    </article>
                </section>

                <!-- NON-INTERACTIVE MODE SECTION -->
                <section id="non-interactive" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>非交互模式</h1>
                        <p class="subtitle">使用 <code>codex exec</code> 在脚本和 CI 中运行 Codex。</p>

                        <div class="intro-block">
                            <p>非交互模式让你可以从脚本（例如持续集成 (CI) 作业）运行 Codex，而无需打开交互式 TUI。使用 <code>codex exec</code> 调用它。</p>

                            <h2>何时使用 codex exec</h2>
                            <p>在以下情况下使用 <code>codex exec</code>：</p>
                            <ul>
                                <li>作为管道的一部分运行（CI、合并前检查、计划作业）。</li>
                                <li>生成可以管道传输到其他工具的输出（例如生成发布说明或摘要）。</li>
                                <li>使用显式、预设的沙盒和审批设置运行。</li>
                            </ul>

                            <h2>基本用法</h2>
                            <p>将任务提示作为单个参数传递：</p>
                            <pre><code>codex exec "summarize the repository structure and list the top 5 risky areas"</code></pre>

                            <p>当 <code>codex exec</code> 运行时，Codex 将进度流式传输到 stderr，并仅将最终代理消息打印到 stdout。这样可以轻松重定向或管道传输最终结果：</p>
                            <pre><code>codex exec "generate release notes for the last 10 commits" | tee release-notes.md</code></pre>

                            <p>当你不想将会话展开文件持久化到磁盘时，使用 <code>--ephemeral</code>：</p>
                            <pre><code>codex exec --ephemeral "triage this repository and suggest next steps"</code></pre>

                            <h2>权限和安全</h2>
                            <p>默认情况下，<code>codex exec</code> 在只读沙盒中运行。在自动化中，设置工作流所需的最低权限：</p>
                            <pre><code># 允许编辑
allow edits: codex exec --full-auto "<task>"

# 允许更广泛的访问
allow broader access: codex exec --sandbox danger-full-access "<task>"</code></pre>
                            <p>仅在受控环境（例如隔离的 CI 运行器或容器）中使用 <code>danger-full-access</code>。</p>

                            <h2>使输出机器可读</h2>
                            <p>要在脚本中使用 Codex 输出，请使用 JSON Lines 输出：</p>
                            <pre><code>codex exec --json "summarize the repo structure" | jq</code></pre>

                            <p>当你启用 <code>--json</code> 时，stdout 变为 JSON Lines (JSONL) 流，因此你可以捕获 Codex 在运行时发出的每个事件。事件类型包括 <code>thread.started</code>、<code>turn.started</code>、<code>turn.completed</code>、<code>turn.failed</code>、<code>item.*</code> 和 <code>error</code>。</p>

                            <p>项目类型包括代理消息、推理、命令执行、文件更改、MCP 工具调用、网页搜索和计划更新。</p>

                            <h3>示例 JSON 流（每行是一个 JSON 对象）：</h3>
                            <pre><code>{"type":"thread.started","thread_id":"0199a213-81c0-7800-8aa1-bbab2a035a53"}
{"type":"turn.started"}
{"type":"item.started","item":{"id":"item_1","type":"command_execution","command":"bash -lc ls","status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_3","type":"agent_message","text":"Repo contains docs, sdk, and examples directories."}}
{"type":"turn.completed","usage":{"input_tokens":24763,"cached_input_tokens":24448,"output_tokens":122}}</code></pre>

                            <p>如果你只需要最终消息，请使用 <code>-o &lt;path&gt;</code> 或 <code>--output-last-message &lt;path&gt;</code> 将其写入文件。这会将最终消息写入文件，同时仍将其打印到 stdout。</p>

                            <h2>使用模式创建结构化输出</h2>
                            <p>如果你需要为下游步骤提供结构化数据，请使用 <code>--output-schema</code> 请求符合 JSON Schema 的最终响应。这对于需要稳定字段的自动化工作流（例如作业摘要、风险报告或发布元数据）非常有用。</p>

                            <h3>schema.json 示例：</h3>
                            <pre><code>{
  "type": "object",
  "properties": {
    "project_name": { "type": "string" },
    "programming_languages": {
      "type": "array",
      "items": { "type": "string" }
    }
  },
  "required": ["project_name", "programming_languages"],
  "additionalProperties": false
}</code></pre>

                            <p>使用模式运行 Codex 并将最终 JSON 响应写入磁盘：</p>
                            <pre><code>codex exec "Extract project metadata" \
  --output-schema ./schema.json \
  -o ./project-metadata.json</code></pre>

                            <h3>示例最终输出：</h3>
                            <pre><code>{
  "project_name": "Codex CLI",
  "programming_languages": ["Rust", "TypeScript", "Shell"]
}</code></pre>

                            <h2>在 CI 中进行身份验证</h2>
                            <p><code>codex exec</code> 默认重用保存的 CLI 身份验证。在 CI 中，通常需要显式提供凭据：</p>
                            <ul>
                                <li>将 <code>CODEX_API_KEY</code> 设置为作业的秘密环境变量。</li>
                                <li>记住提示和工具输出可能包含敏感代码或数据。</li>
                            </ul>

                            <p>要为单次运行使用不同的 API 密钥，请内联设置 <code>CODEX_API_KEY</code>：</p>
                            <pre><code>CODEX_API_KEY=&lt;api-key&gt; codex exec --json "triage open bug reports"</code></pre>
                            <p><code>CODEX_API_KEY</code> 仅在 <code>codex exec</code> 中受支持。</p>

                            <h2>恢复非交互式会话</h2>
                            <p>如果你需要继续先前的运行（例如两阶段管道），请使用 resume 子命令：</p>
                            <pre><code>codex exec "review the change for race conditions"
codex exec resume --last "fix the race conditions you found"</code></pre>
                            <p>你还可以使用 <code>codex exec resume &lt;SESSION_ID&gt;</code> 针对特定会话 ID。</p>

                            <h2>需要 Git 仓库</h2>
                            <p>Codex 要求命令在 Git 仓库内运行以防止破坏性更改。如果你确定环境是安全的，请使用 <code>codex exec --skip-git-repo-check</code> 覆盖此检查。</p>

                            <h2>常见自动化模式</h2>
                            <h3>示例：在 GitHub Actions 中自动修复 CI 故障</h3>
                            <p>你可以使用 <code>codex exec</code> 在 CI 工作流失败时自动提议修复。典型模式是：</p>
                            <ol>
                                <li>当主 CI 工作流以错误完成时触发后续工作流。</li>
                                <li>检出失败的提交 SHA。</li>
                                <li>安装依赖项并使用狭窄的提示和最小权限运行 Codex。</li>
                                <li>重新运行测试命令。</li>
                                <li>使用生成的补丁打开拉取请求。</li>
                            </ol>

                            <h3>使用 Codex CLI 的最小工作流</h3>
                            <p>以下示例显示核心步骤。调整安装和测试命令以匹配你的技术栈。</p>
                            <pre><code>name: Codex auto-fix on CI failure

on:
  workflow_run:
    workflows: ["CI"]
    types: [completed]

permissions:
  contents: write
  pull-requests: write

jobs:
  auto-fix:
    if: ${{ github.event.workflow_run.conclusion == 'failure' }}
    runs-on: ubuntu-latest
    env:
      OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
      FAILED_HEAD_SHA: ${{ github.event.workflow_run.head_sha }}
      FAILED_HEAD_BRANCH: ${{ github.event.workflow_run.head_branch }}
    steps:
      - uses: actions/checkout@v4
        with:
          ref: ${{ env.FAILED_HEAD_SHA }}
          fetch-depth: 0

      - uses: actions/setup-node@v4
        with:
          node-version: "20"

      - name: Install dependencies
        run: |
          if [ -f package-lock.json ]; then npm ci; else npm i; fi

      - name: Install Codex
        run: npm i -g @openai/codex

      - name: Run Codex
        run: |
          codex exec --full-auto --sandbox workspace-write \
            "Read the repository, run the test suite, identify the minimal change needed to make all tests pass, implement only that change, and stop. Do not refactor unrelated files."

      - name: Verify tests
        run: npm test --silent

      - name: Create pull request
        if: success()
        uses: peter-evans/create-pull-request@v6
        with:
          branch: codex/auto-fix-${{ github.event.workflow_run.run_id }}
          base: ${{ env.FAILED_HEAD_BRANCH }}
          title: "Auto-fix failing CI via Codex"</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CLI NONINTERACTIVE SECTION -->
                <section id="cli-noninteractive" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>非交互模式</h1>
                        <p class="subtitle">在脚本和自动化中使用 CLI。</p>
                        <div class="intro-block">
                            <pre><code>codex run --json "列表" &gt; deps.json
git diff | codex run "解释"</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CLOUD ENV SECTION -->
                <section id="cloud-env" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>云端环境</h1>
                        <p class="subtitle">了解云任务如何运行、配置与缓存。</p>
                        <div class="intro-block">
                            <h2>云任务运行方式</h2>
                            <h2>默认通用镜像</h2>
                            <h2>环境变量与密钥</h2>
                            <h2>自动 setup</h2>
                            <h2>手动 setup</h2>
                            <h2>容器缓存</h2>
                            <h2>互联网访问与代理</h2>
                            <ul>
                                <li>环境设置：<a href="https://chatgpt.com/codex/settings/environments" target="_blank" rel="noopener noreferrer">Codex settings</a></li>
                                <li>互联网访问：<a href="https://developers.openai.com/codex/cloud/internet-access" target="_blank" rel="noopener noreferrer">agent internet access</a></li>
                                <li>通用镜像仓库：<a href="https://github.com/openai/codex-universal" target="_blank" rel="noopener noreferrer">openai/codex-universal</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CLOUD INTERNET SECTION -->
                <section id="cloud-internet" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>智能体互联网访问</h1>
                        <p class="subtitle">配置域名白名单与方法限制，降低提示注入风险。</p>
                        <div class="intro-block">
                            <h2>互联网访问风险</h2>
                            <h2>如何配置互联网访问</h2>
                            <h2>预置域名列表</h2>
                            <h3>域名白名单</h3>
                            <h3>允许的 HTTP 方法</h3>
                            <h3>常见依赖域名</h3>
                            <img src="https://cdn.openai.com/API/docs/codex/prompt-injection-example.png" alt="Prompt injection example" style="width:100%;border-radius:12px;">
                            <p>官方页面：<a href="https://developers.openai.com/codex/cloud/internet-access" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/cloud/internet-access</a></p>
                        </div>
                    </article>
                </section>

                <!-- GITHUB SECTION -->
                <section id="github" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>在 GitHub 中使用 Codex</h1>
                        <p class="subtitle">在 PR 流程里配置审查、触发规则与任务委托。</p>
                        <div class="intro-block">
                            <h2>设置代码审查</h2>
                            <img src="https://developers.openai.com/images/codex/code-review/code-review-settings.png" alt="Code review settings" style="width:100%;border-radius:12px;">
                            <h2>请求审查</h2>
                            <img src="https://developers.openai.com/images/codex/code-review/review-trigger.png" alt="Review trigger" style="width:100%;border-radius:12px;">
                            <h2>启用自动审查</h2>
                            <h2>自定义审查范围</h2>
                            <h2>给 Codex 其他任务</h2>
                            <img src="https://developers.openai.com/images/codex/code-review/review-example.png" alt="Review example" style="width:100%;border-radius:12px;">
                            <ul>
                                <li>Codex cloud：<a href="https://developers.openai.com/codex/cloud" target="_blank" rel="noopener noreferrer">cloud</a></li>
                                <li>Code review 设置：<a href="https://chatgpt.com/codex/settings/code-review" target="_blank" rel="noopener noreferrer">settings</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- LINEAR SECTION -->
                <section id="linear" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>在 Linear 中使用 Codex</h1>
                        <p class="subtitle">从 issue 委托、评论触发到自动分配的完整流程。</p>
                        <div class="intro-block">
                            <h2>设置 Linear 集成</h2>
                            <h2>把工作委托给 Codex</h2>
                            <h3>方式 1：直接分配 issue 给 Codex</h3>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/integrations/linear-assign-codex-dark.webp"><img src="https://developers.openai.com/images/codex/integrations/linear-assign-codex-light.webp" alt="Assign issue" style="width:100%;border-radius:12px;"></picture>
                            <h3>方式 2：评论中 @Codex</h3>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/integrations/linear-comment-dark.webp"><img src="https://developers.openai.com/images/codex/integrations/linear-comment-light.webp" alt="Comment" style="width:100%;border-radius:12px;"></picture>
                            <h2>自动把 issue 分配给 Codex</h2>
                            <picture><source media="(prefers-color-scheme: dark)" srcset="https://developers.openai.com/images/codex/integrations/linear-triage-rule-dark.webp"><img src="https://developers.openai.com/images/codex/integrations/linear-triage-rule-light.webp" alt="Triage rule" style="width:100%;border-radius:12px;"></picture>
                            <h2>数据使用、隐私与安全</h2>
                            <h2>Tips 与故障排除</h2>
                            <h2>本地任务连接 Linear（MCP）</h2>
                            <h3>推荐：CLI 方式</h3>
                            <h3>手动配置</h3>
                            <ul>
                                <li>Pricing：<a href="https://developers.openai.com/codex/pricing" target="_blank" rel="noopener noreferrer">pricing</a></li>
                                <li>管理员设置：<a href="https://chatgpt.com/admin/settings" target="_blank" rel="noopener noreferrer">workspace settings</a></li>
                                <li>连接器：<a href="https://chatgpt.com/codex/settings/connectors" target="_blank" rel="noopener noreferrer">Codex settings</a></li>
                                <li>管理员连接器页：<a href="https://chatgpt.com/admin/ca" target="_blank" rel="noopener noreferrer">connector settings</a></li>
                                <li>管理员连接器页：<a href="https://chatgpt.com/admin/ca" target="_blank" rel="noopener noreferrer">connector settings</a></li>
                                <li>Linear MCP 文档：<a href="https://linear.app/integrations/codex-mcp" target="_blank" rel="noopener noreferrer">Linear MCP docs</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- SLACK SECTION -->
                <section id="slack" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>在 Slack 中使用 Codex</h1>
                        <p class="subtitle">在聊天上下文中发起与跟进 Codex 云端任务。</p>
                        <div class="intro-block">
                            <h2>设置 Slack 应用</h2>
                            <h2>启动任务</h2>
                            <img src="https://developers.openai.com/images/codex/integrations/slack-example.png" alt="Slack example" style="width:100%;border-radius:12px;">
                            <h3>环境与仓库如何选择</h3>
                            <h3>企业数据控制</h3>
                            <h3>数据使用、隐私与安全</h3>
                            <h3>Tips 与故障排除</h3>
                            <ul>
                                <li>云任务：<a href="https://developers.openai.com/codex/cloud" target="_blank" rel="noopener noreferrer">Codex cloud tasks</a></li>
                                <li>环境文档：<a href="https://developers.openai.com/codex/cloud/environments" target="_blank" rel="noopener noreferrer">environment</a></li>
                                <li>连接器设置：<a href="https://chatgpt.com/codex/settings/connectors" target="_blank" rel="noopener noreferrer">Codex settings</a></li>
                                <li>政策：<a href="https://openai.com/privacy" target="_blank" rel="noopener noreferrer">Privacy</a> / <a href="https://openai.com/terms/" target="_blank" rel="noopener noreferrer">Terms</a></li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CONFIG ADVANCED SECTION -->
                <section id="config-advanced" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>高级配置</h1>
                        <p class="subtitle">当你需要更精细地控制 provider、策略、观测与终端行为时，从这里开始。</p>
                        <div class="intro-block">
                            <p>如果你只需要快速上手，请先看 <a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">Config basics</a>；本页聚焦进阶选项。</p>

                            <h2>Profiles</h2>
                            <p>Profile 是“命名配置集合”，可通过 CLI 快速切换：</p>
                            <pre><code class="language-toml">model = "gpt-5-codex"
approval_policy = "on-request"

[profiles.deep-review]
model = "gpt-5-pro"
model_reasoning_effort = "high"
approval_policy = "never"

[profiles.lightweight]
model = "gpt-4.1"
approval_policy = "untrusted"</code></pre>
                            <p>CLI 里使用：<code>codex --profile deep-review</code>。若想默认启用，可在顶层配置 <code>profile = "deep-review"</code>。</p>

                            <h2>单次 CLI 覆盖（One-off overrides）</h2>
                            <pre><code class="language-shell"># 专用参数
codex --model gpt-5.2

# 通用 key/value 覆盖（value 按 TOML 解析）
codex --config model='"gpt-5.2"'
codex --config sandbox_workspace_write.network_access=true
codex --config 'shell_environment_policy.include_only=["PATH","HOME"]'</code></pre>
                            <p>建议优先使用专用参数；需要覆盖任意键时再用 <code>--config</code>。</p>

                            <h2>配置与状态目录</h2>
                            <p>Codex 本地状态默认在 <code>CODEX_HOME</code>（通常为 <code>~/.codex</code>）下：</p>
                            <ul>
                                <li><code>config.toml</code>：用户配置</li>
                                <li><code>auth.json</code> 或系统 keychain/keyring：认证信息</li>
                                <li><code>history.jsonl</code>：历史记录（若开启）</li>
                                <li>日志与缓存等其他状态</li>
                            </ul>

                            <h2>项目级配置（.codex/config.toml）</h2>
                            <p>受信任项目中，Codex 会从项目根到当前目录逐层读取 <code>.codex/config.toml</code>；越靠近当前目录优先级越高。相对路径以该 <code>.codex</code> 目录为基准解析。</p>

                            <h2>Agent 角色（[agents]）</h2>
                            <p>多智能体角色配置见：<a href="https://developers.openai.com/codex/multi-agent" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/multi-agent</a>。</p>

                            <h2>项目根检测</h2>
                            <p>默认以 <code>.git</code> 作为项目根标识；可自定义：</p>
                            <pre><code class="language-toml">project_root_markers = [".git", ".hg", ".sl"]</code></pre>
                            <p>若设为 <code>[]</code>，则只把当前工作目录视为项目根。</p>

                            <h2>自定义模型 Provider</h2>
                            <pre><code class="language-toml">model = "gpt-5.1"
model_provider = "proxy"

[model_providers.proxy]
name = "OpenAI using LLM proxy"
base_url = "http://proxy.example.com"
env_key = "OPENAI_API_KEY"</code></pre>

                            <h2>OSS 模式（本地 Provider）</h2>
                            <pre><code class="language-toml"># --oss 默认 provider
oss_provider = "ollama" # 或 "lmstudio"</code></pre>

                            <h2>Azure Provider 与每 Provider 调优</h2>
                            <pre><code class="language-toml">[model_providers.azure]
name = "Azure"
base_url = "https://YOUR_PROJECT_NAME.openai.azure.com/openai"
env_key = "AZURE_OPENAI_API_KEY"
query_params = { api-version = "2025-04-01-preview" }
wire_api = "responses"</code></pre>

                            <h2>ChatGPT 数据驻留客户</h2>
                            <p>如使用数据驻留，先确认模型与功能是否在适用范围，再选择对应 endpoint 与区域策略。</p>
                            <ul>
                                <li>帮助中心说明：<a href="https://help.openai.com/en/articles/9903489-data-residency-and-inference-residency-for-chatgpt" target="_blank" rel="noopener noreferrer">data residency</a></li>
                                <li>数据政策说明：<a href="https://platform.openai.com/docs/guides/your-data#which-models-and-features-are-eligible-for-data-residency" target="_blank" rel="noopener noreferrer">eligible models/features</a></li>
                            </ul>

                            <h2>模型推理、冗长度与上限</h2>
                            <p>可调 <code>model_reasoning_effort</code>、<code>model_verbosity</code>、token 相关阈值等参数，以平衡成本/速度/质量。</p>

                            <h2>审批策略与沙箱模式</h2>
                            <p>推荐与安全文档配合阅读：<a href="https://developers.openai.com/codex/security#common-sandbox-and-approval-combinations" target="_blank" rel="noopener noreferrer">common combinations</a>、<a href="https://developers.openai.com/codex/security#protected-paths-in-writable-roots" target="_blank" rel="noopener noreferrer">protected-paths</a>、<a href="https://developers.openai.com/codex/security#network-access" target="_blank" rel="noopener noreferrer">network-access</a>。</p>

                            <h2>Shell 环境变量策略</h2>
                            <p>通过 <code>shell_environment_policy</code> 控制传递给子进程的环境变量，降低意外泄露风险。</p>

                            <h2>MCP 服务器</h2>
                            <p>MCP 配置键及示例见：<a href="https://developers.openai.com/codex/mcp" target="_blank" rel="noopener noreferrer">MCP documentation</a>。</p>

                            <h2>可观测性与遥测（Observability）</h2>
                            <h3>会发出哪些数据</h3>
                            <p>可配置事件、指标、反馈与推理事件可见性；建议结合组织安全策略统一设置。</p>
                            <h3>OTel 指标</h3>
                            <p>支持 OTel metrics 导出，便于接入团队监控面板。</p>
                            <h3>反馈控制</h3>
                            <p>可禁用或保留反馈事件上报，按合规要求处理。</p>
                            <h3>推理事件显隐</h3>
                            <p>可控制是否在事件流中显示 reasoning 相关内容。</p>

                            <h2>通知（Notifications）</h2>
                            <pre><code class="language-toml">notify = ["notify-send", "Codex"]</code></pre>

                            <h2>历史记录持久化</h2>
                            <pre><code class="language-toml">history = { enabled = true }</code></pre>

                            <h2>可点击引用</h2>
                            <p>可配置输出中的 citation 行为，提升“跳转到来源”体验。</p>

                            <h2>项目指令发现（AGENTS.md）</h2>
                            <pre><code class="language-toml">project_doc_fallback_filenames = ["TEAM_GUIDE.md", ".agents.md"]
project_doc_max_bytes = 65536</code></pre>
                            <p>详见：<a href="https://developers.openai.com/codex/guides/agents-md" target="_blank" rel="noopener noreferrer">Custom instructions with AGENTS.md</a>。</p>

                            <h2>TUI 选项</h2>
                            <p>可配置终端 UI 的若干行为（如日志、显示与交互细节）。</p>

                            <ul>
                                <li>认证：<a href="https://developers.openai.com/codex/auth" target="_blank" rel="noopener noreferrer">Authentication</a></li>
                                <li>定制化总览：<a href="https://developers.openai.com/codex/concepts/customization" target="_blank" rel="noopener noreferrer">Customization</a></li>
                                <li>配置参考：<a href="https://developers.openai.com/codex/config-reference" target="_blank" rel="noopener noreferrer">Configuration Reference</a></li>
                                <li>团队配置：<a href="https://developers.openai.com/codex/enterprise/admin-setup#team-config" target="_blank" rel="noopener noreferrer">Team Config</a></li>
                                <li>规则：<a href="https://developers.openai.com/codex/rules" target="_blank" rel="noopener noreferrer">rules</a></li>
                                <li>托管配置：<a href="https://developers.openai.com/codex/security#managed-configuration" target="_blank" rel="noopener noreferrer">managed-configuration</a></li>
                                <li>监控与遥测：<a href="https://developers.openai.com/codex/security#monitoring-and-telemetry" target="_blank" rel="noopener noreferrer">monitoring-and-telemetry</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/config-advanced" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/config-advanced</a></p>
                        </div>
                    </article>
                </section>

                <!-- CONFIG REFERENCE SECTION -->
                <section id="config-reference" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>配置参考</h1>
                        <p class="subtitle">按键名检索 <code>config.toml</code> 与 <code>requirements.toml</code> 的权威说明。</p>
                        <div class="intro-block">
                            <p>本页适合“查具体键”的场景。若你需要概念与实践建议，请先看 <a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">Config basics</a> 与 <a href="https://developers.openai.com/codex/config-advanced" target="_blank" rel="noopener noreferrer">Advanced Config</a>。</p>

                            <h2>config.toml</h2>
                            <p>用户级配置在 <code>~/.codex/config.toml</code>；项目级覆盖可放在 <code>.codex/config.toml</code>（仅受信任项目生效）。</p>
                            <p>涉及审批与沙箱相关键（如 <code>approval_policy</code>、<code>sandbox_mode</code>）时，建议同时阅读：</p>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/security#sandbox-and-approvals" target="_blank" rel="noopener noreferrer">sandbox-and-approvals</a></li>
                                <li><a href="https://developers.openai.com/codex/security#protected-paths-in-writable-roots" target="_blank" rel="noopener noreferrer">protected-paths-in-writable-roots</a></li>
                                <li><a href="https://developers.openai.com/codex/security#network-access" target="_blank" rel="noopener noreferrer">network-access</a></li>
                            </ul>

                            <p>可在文件顶端声明 schema，获得编辑器补全与诊断：</p>
                            <pre><code class="language-toml">#:schema https://developers.openai.com/codex/config-schema.json</code></pre>
                            <p>Schema 链接：<a href="https://developers.openai.com/codex/config-schema.json" target="_blank" rel="noopener noreferrer">config-schema.json</a>。</p>
                            <p>VS Code/Cursor 可安装 <a href="https://marketplace.visualstudio.com/items?itemName=tamasfe.even-better-toml" target="_blank" rel="noopener noreferrer">Even Better TOML</a> 增强编辑体验。</p>
                            <p><strong>迁移提示：</strong><code>experimental_instructions_file</code> 已更名为 <code>model_instructions_file</code>。</p>

                            <h2>requirements.toml</h2>
                            <p>这是管理员强制配置文件，用于约束用户不可覆盖的安全敏感选项。详情见：</p>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/security#admin-enforced-requirements-requirementstoml" target="_blank" rel="noopener noreferrer">Admin-enforced requirements</a></li>
                            </ul>
                            <p>对于 ChatGPT Business / Enterprise，Codex 还可能叠加云端下发的 requirements，最终生效顺序以安全文档为准。</p>

                            <p>官方页面：<a href="https://developers.openai.com/codex/config-reference" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/config-reference</a></p>
                        </div>
                    </article>
                </section>

                <!-- CONFIG SAMPLE SECTION -->
                <section id="config-sample" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>配置示例</h1>
                        <p class="subtitle">官方 <code>config.toml</code> 样例的中文导读版，便于按需拷贝与裁剪。</p>
                        <div class="intro-block">
                            <p>此页对应官方 Sample Configuration。它覆盖了 Codex 会读取的大多数配置键及默认值说明。实践中请只保留你需要的键。</p>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">Config basics</a></li>
                                <li><a href="https://developers.openai.com/codex/config-advanced" target="_blank" rel="noopener noreferrer">Advanced Config</a></li>
                                <li><a href="https://developers.openai.com/codex/config-reference" target="_blank" rel="noopener noreferrer">Config Reference</a></li>
                                <li><a href="https://developers.openai.com/codex/security#sandbox-and-approvals" target="_blank" rel="noopener noreferrer">Sandbox and approvals</a></li>
                                <li><a href="https://developers.openai.com/codex/security#managed-configuration" target="_blank" rel="noopener noreferrer">Managed configuration</a></li>
                            </ul>

                            <h2>示例（可直接作为起点）</h2>
                            <pre><code class="language-toml"># Codex 示例配置（config.toml）
# 说明：
# 1) 这里只展示最常用、最关键的段落；其余键请看官方完整样例
# 2) TOML 中顶层键需出现在 table 之前
# 3) 未设置的可选键一般沿用内置默认值

################################################################################
# 核心模型选择
################################################################################
model = "gpt-5.2-codex"
model_provider = "openai"
# personality = "friendly" # none | friendly | pragmatic
# review_model = "gpt-5.2-codex"
# oss_provider = "ollama"

################################################################################
# 推理与表达
################################################################################
model_reasoning_effort = "medium"    # minimal | low | medium | high | xhigh
# model_reasoning_summary = "auto"   # auto | concise | detailed | none
# model_verbosity = "medium"         # low | medium | high

################################################################################
# 指令覆盖
################################################################################
# developer_instructions = ""
# model_instructions_file = "/absolute/or/relative/path/to/instructions.txt"
# experimental_compact_prompt_file = "/absolute/or/relative/path/to/compact_prompt.txt"

################################################################################
# 通知
################################################################################
notify = [ ]

################################################################################
# 审批与沙箱
################################################################################
approval_policy = "on-request"   # untrusted | on-request | never
sandbox_mode = "read-only"       # read-only | workspace-write | danger-full-access

[sandbox_workspace_write]
network_access = false
# writable_roots = ["/absolute/path/to/project"]

################################################################################
# Web 搜索
################################################################################
web_search = "cached"            # cached | live | disabled

################################################################################
# Shell 环境变量策略
################################################################################
[shell_environment_policy]
inherit = "core"                 # all | core | none
ignore_default_excludes = false
# exclude = ["AWS_SECRET_ACCESS_KEY"]
# include_only = ["PATH", "HOME"]
# set = { CI = "1" }

################################################################################
# 历史、日志、OTel
################################################################################
# log_dir = "/absolute/path/to/codex-logs"
# [history]
# enabled = true

# [observability.otel]
# enabled = false
# endpoint = "http://localhost:4318/v1/metrics"

################################################################################
# MCP 服务器
################################################################################
[mcp_servers.context7]
command = "npx"
args = ["-y", "@upstash/context7-mcp"]

[mcp_servers.context7.env]
MY_ENV_VAR = "MY_ENV_VALUE"

################################################################################
# Profiles
################################################################################
[profiles.deep-review]
model = "gpt-5-pro"
model_reasoning_effort = "high"
approval_policy = "never"

[profiles.fast]
model = "gpt-5.2-codex"
model_reasoning_effort = "low"

################################################################################
# Feature flags
################################################################################
[features]
multi_agent = false

################################################################################
# Agent 角色（多智能体）
################################################################################
[agents.default]
description = "General-purpose helper."

[agents.reviewer]
description = "Find security, correctness, and test risks in code."
config_file = "agents/reviewer.toml"</code></pre>

                            <p>官方完整样例：<a href="https://developers.openai.com/codex/config-sample" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/config-sample</a>。</p>
                        </div>
                    </article>
                </section>

                <!-- ENTERPRISE ADMIN SECTION -->
                <section id="enterprise-admin" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>管理员设置</h1>
                        <p class="subtitle">企业版管理员配置指南。</p>
                        <div class="intro-block">
                            <ul>
                                <li>用户管理</li>
                                <li>角色分配</li>
                                <li>权限管理</li>
                                <li>使用量监控</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- ENTERPRISE GOVERNANCE SECTION -->
                <section id="enterprise-governance" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>治理与合规</h1>
                        <p class="subtitle">企业治理和合规性配置。</p>
                        <div class="intro-block">
                            <ul>
                                <li>数据保留</li>
                                <li>合规性报告</li>
                                <li>数据导出</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- SECURITY SECTION -->
                <section id="security" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>安全</h1>
                        <p class="subtitle">安全性和隐私保护。</p>
                        <div class="intro-block">
                            <ul>
                                <li>传输中加密 (TLS 1.3)</li>
                                <li>静态数据加密 (AES-256)</li>
                                <li>SOC 2 Type II 认证</li>
                                <li>GDPR 合规</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- MODELS SECTION -->
                <section id="models" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>模型</h1>
                        <p class="subtitle">官方模型分层：推荐模型、替代模型与配置方式。</p>
                        <div class="intro-block">
                            <div class="overview-links-grid">
                                <a class="overview-link-card" href="https://developers.openai.com/codex/models" target="_blank" rel="noopener noreferrer" style="background-image:url('https://developers.openai.com/images/codex/codex-wallpaper-1.webp')">
                                    <h3>模型选择</h3>
                                    <p>针对任务复杂度选择合适模型。</p>
                                </a>
                                <a class="overview-link-card" href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer" style="background-image:url('https://developers.openai.com/images/codex/codex-wallpaper-2.webp')">
                                    <h3>模型配置</h3>
                                    <p>在配置文件中设置默认模型与参数。</p>
                                </a>
                            </div>

                            <h2>推荐模型</h2>
                            <div class="models-grid">
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/codex/gpt-5.2-codex.png" alt="GPT-5.2 Codex">
                                    <h3>GPT-5.2-Codex</h3>
                                    <p>优先用于高质量编码任务与复杂推理场景。</p>
                                </div>
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/api/models/gpt-5.2.jpg" alt="GPT-5.2">
                                    <h3>GPT-5.2</h3>
                                    <p>适合通用编程与多步骤任务。</p>
                                </div>
                            </div>

                            <h2>替代模型</h2>
                            <div class="models-grid">
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/api/models/gpt-5.1-codex-max.jpg" alt="GPT-5.1-Codex-Max">
                                    <h3>GPT-5.1-Codex-Max</h3>
                                </div>
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/api/models/gpt-5.1.jpg" alt="GPT-5.1">
                                    <h3>GPT-5.1</h3>
                                </div>
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/api/models/gpt-5.1-codex.jpg" alt="GPT-5.1-Codex">
                                    <h3>GPT-5.1-Codex</h3>
                                </div>
                            </div>

                            <h2>其他模型</h2>
                            <div class="models-grid">
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/api/models/gpt-5-codex.jpg" alt="GPT-5-Codex">
                                    <h3>GPT-5-Codex</h3>
                                </div>
                                <div class="model-card">
                                    <img src="https://developers.openai.com/images/api/models/gpt-5.jpg" alt="GPT-5">
                                    <h3>GPT-5</h3>
                                </div>
                            </div>

                            <h2>配置模型</h2>
                            <h3>设置本地默认模型</h3>
                            <h3>临时切换本地模型</h3>
                            <h3>设置云端任务模型</h3>
                            <p>更多请见：<a href="https://developers.openai.com/codex/config-basic" target="_blank" rel="noopener noreferrer">配置文件（Config Basics）</a></p>
                            <p>API 相关：<a href="https://platform.openai.com/docs/api-reference/chat" target="_blank" rel="noopener noreferrer">Chat Completions</a> / <a href="https://platform.openai.com/docs/api-reference/responses" target="_blank" rel="noopener noreferrer">Responses API</a></p>
                        </div>
                    </article>
                </section>

                <!-- CHANGELOG SECTION -->
                <section id="changelog" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>更新日志</h1>
                        <p class="subtitle">同步官方 Codex 发布动态（含 CLI 与 App）。</p>
                        <div class="intro-block">
                            <h2>官方更新源</h2>
                            <ul>
                                <li>更新页：<a href="https://developers.openai.com/codex/changelog/" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/changelog</a></li>
                                <li>RSS：<a href="https://developers.openai.com/codex/changelog/rss.xml" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/changelog/rss.xml</a></li>
                                <li>开源仓库发布：<a href="https://github.com/openai/codex/releases" target="_blank" rel="noopener noreferrer">github.com/openai/codex/releases</a></li>
                            </ul>

                            <h2>最新条目（抓取时间：2026年2月18日）</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/codex/changelog/#github-release-287549221" target="_blank" rel="noopener noreferrer">Codex CLI 发布：0.104.0</a>（2026年2月18日）</li>
                                <li><a href="https://developers.openai.com/codex/changelog/#codex-2026-02-17-app-mdx" target="_blank" rel="noopener noreferrer">Codex 应用</a>（2026年2月17日）</li>
                                <li><a href="https://developers.openai.com/codex/changelog/#github-release-287457049" target="_blank" rel="noopener noreferrer">Codex CLI 发布：0.103.0</a>（2026年2月17日）</li>
                                <li><a href="https://developers.openai.com/codex/changelog/#github-release-287401154" target="_blank" rel="noopener noreferrer">Codex CLI 发布：0.102.0</a>（2026年2月17日）</li>
                                <li><a href="https://developers.openai.com/codex/changelog/#codex-2026-02-12-mdx" target="_blank" rel="noopener noreferrer">发布 GPT-5.3-Codex-Spark</a>（2026年2月12日）</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- VIDEOS SECTION -->
                <section id="videos" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>视频教程</h1>
                        <p class="subtitle">官方 Codex 视频演示与实战讲解。</p>
                        <div class="intro-block">
                            <p>官方视频页：<a href="https://developers.openai.com/codex/videos/" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/videos</a></p>
                            <div class="video-grid">
                                <div class="video-card">
                                    <h3>认识 Codex 应用</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/HFM3se4lNiw" title="认识 Codex 应用" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>设计师如何用 Codex 做原型</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/P7HXxl14dCA" title="设计师如何用 Codex 做原型" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>用 Codex 自动化任务</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/xHnlzAPD9QI" title="用 Codex 自动化任务" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>产品经理如何使用 Codex</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/6OiE0jIY93c" title="产品经理如何使用 Codex" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>Codex 多任务实战</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/9ohXlkbXiM4" title="Codex 多任务实战" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>Codex 自动自检</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/dHCNpcNyoFM" title="Codex 自动自检" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>JetBrains 中的 Codex</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/1XkVsE9-ZK4" title="JetBrains 中的 Codex" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>Codex 代码审查</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/HwbSWVg5Ln4" title="Codex 代码审查" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                                <div class="video-card">
                                    <h3>用 Codex 构建高质量前端</h3>
                                    <iframe src="https://www.youtube-nocookie.com/embed/fK_bm84N7bs" title="用 Codex 构建高质量前端" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
                                </div>
                            </div>
                        </div>
                    </article>
                </section>

                <!-- AUTHENTICATION SECTION -->
                <section id="authentication" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>认证</h1>
                        <p class="subtitle">管理你的 Codex 访问凭证。</p>

                        <div class="intro-block">
                            <h2>登录方式</h2>
                            <ol>
                                <li><strong>浏览器登录：</strong>运行 <code>codex login</code>，在打开的浏览器中完成认证</li>
                                <li><strong>API Key：</strong>设置 <code>OPENAI_API_KEY</code> 环境变量</li>
                                <li><strong>SSO：</strong>企业用户可使用单点登录（需要管理员配置）</li>
                            </ol>

                            <h2>管理凭证</h2>
                            <pre><code># 查看当前登录状态
codex auth status

# 退出登录
codex logout

# 切换账号
codex auth switch

# 刷新凭证
codex auth refresh</code></pre>

                            <h2>凭证存储</h2>
                            <p>凭证安全存储在：</p>
                            <ul>
                                <li><strong>macOS：</strong> Keychain</li>
                                <li><strong>Windows：</strong> Credential Manager</li>
                                <li><strong>Linux：</strong> <code>~/.codex/credentials</code></li>
                            </ul>

                            <h2>企业认证</h2>
                            <p>企业版用户可配置：</p>
                            <ul>
                                <li>SAML 2.0 SSO 集成</li>
                                <li>SCIM 用户供应</li>
                                <li>自定义身份提供商</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- WINDOWS SECTION -->
                <section id="windows" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Windows 支持</h1>
                        <p class="subtitle">Windows 平台特定功能和注意事项。</p>

                        <div class="intro-block">
                            <h2>系统要求</h2>
                            <ul>
                                <li>Windows 11 或 Windows 10 (22H2+)</li>
                                <li>4GB RAM 最低，8GB 推荐</li>
                                <li>.NET 6.0+ 运行时</li>
                            </ul>

                            <h2>安装 Codex CLI</h2>
                            <pre><code># 使用 winget
winget install openai.codex

# 使用 chocolatey
choco install codex

# 使用 npm
npm install -g @openai/codex</code></pre>

                            <h2>PowerShell 集成</h2>
                            <p>Codex 支持 PowerShell 命令执行和脚本生成：</p>
                            <pre><code># 在 PowerShell 中使用 Codex
codex run "列出当前目录所有文件"
codex run "创建一个 PowerShell 脚本备份文件"</code></pre>

                            <h2>Windows 特定功能</h2>
                            <ul>
                                <li>WSL2 集成支持</li>
                                <li>Windows Terminal 适配</li>
                                <li>资源管理器右键菜单集成（即将推出）</li>
                            </ul>

                            <h2>已知限制</h2>
                            <blockquote>
                                <p><strong>注意：</strong> Codex 桌面客户端目前仅支持 macOS。Windows 用户可以使用 CLI、IDE 插件和 Web 版本。</p>
                            </blockquote>
                        </div>
                    </article>
                </section>

                <!-- CODEX SDK SECTION -->
                <section id="codex-sdk" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 开发套件（SDK）</h1>
                        <p class="subtitle">使用 SDK 集成 Codex 到你的应用。</p>

                        <div class="intro-block">
                            <h2>安装 SDK</h2>
                            <pre><code># Node.js/TypeScript
npm install @openai/codex-sdk

# Python
pip install openai-codex-sdk

# Go
go get github.com/openai/codex-sdk-go</code></pre>

                            <h2>快速开始</h2>
                            <pre><code>// TypeScript 示例
import { CodexClient } from '@openai/codex-sdk';

const codex = new CodexClient({
  apiKey: process.env.OPENAI_API_KEY
});

// 执行任务
const result = await codex.tasks.create({
  prompt: "为这个函数添加单元测试",
  filePath: "./src/utils.ts"
});

console.log(result.output);</code></pre>

                            <h2>API 参考</h2>
                            <p>完整 API 文档请访问 <a href="https://developers.openai.com/codex/sdk" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/sdk</a>。</p>
                        </div>
                    </article>
                </section>

                <!-- APP SERVER SECTION -->
                <section id="app-server" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>应用服务器</h1>
                        <p class="subtitle">Codex 应用服务器配置和部署。</p>

                        <div class="intro-block">
                            <h2>什么是应用服务器？</h2>
                            <p>应用服务器是 Codex 的后端服务，负责任务调度、状态管理和与 OpenAI API 的通信。</p>

                            <h2>本地运行</h2>
                            <pre><code># 启动本地应用服务器
codex server start

# 查看服务器状态
codex server status

# 停止服务器
codex server stop</code></pre>

                            <h2>配置选项</h2>
                            <pre><code>{
  "server": {
    "port": 8080,
    "host": "localhost",
    "maxConcurrentTasks": 5,
    "taskTimeout": 300
  }
}</code></pre>

                            <h2>部署到云端</h2>
                            <p>支持部署到 AWS、GCP、Azure 等云平台，实现团队协作和任务共享。</p>
                        </div>
                    </article>
                </section>

                <!-- MCP SERVER SECTION -->
                <section id="mcp-server" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>MCP 服务器</h1>
                        <p class="subtitle">构建和部署 MCP 服务。</p>

                        <div class="intro-block">
                            <h2>创建 MCP 服务器</h2>
                            <pre><code>// 初始化项目
npx @mcp/create my-server

# 生成的目录结构
my-server/
├── src/
│   ├── index.ts
│   ├── tools/
│   └── resources/
├── package.json
└── tsconfig.json</code></pre>

                            <h2>发布到 MCP Hub</h2>
                            <pre><code># 发布你的 MCP 服务器
npm run publish

# 验证配置
mcp validate</code></pre>

                            <h2>最佳实践</h2>
                            <ul>
                                <li>使用环境变量管理敏感凭据</li>
                                <li>实现适当的错误处理和日志记录</li>
                                <li>遵循 MCP 协议规范</li>
                                <li>提供详细的工具和资源描述</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- GITHUB ACTION SECTION -->
                <section id="github-action" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>GitHub 自动化（Action）</h1>
                        <p class="subtitle">在 CI/CD 流水线中使用 Codex。</p>

                        <div class="intro-block">
                            <h2>安装 Action</h2>
                            <pre><code># .github/workflows/codex.yml
name: Codex Auto Tasks
on:
  pull_request:
    types: [opened, synchronize]
  issues:
    types: [opened]

jobs:
  codex:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Run Codex
        uses: openai/codex-action@v1
        with:
          api-key: ${{ secrets.OPENAI_API_KEY }}
          task: "review-code"
          fail-on-issues: true</code></pre>

                            <h2>可用任务</h2>
                            <ul>
                                <li><code>review-code</code> - 代码审查</li>
                                <li><code>fix-lint</code> - 自动修复 Lint 错误</li>
                                <li><code>generate-tests</code> - 生成单元测试</li>
                                <li><code>update-docs</code> - 更新文档</li>
                            </ul>

                            <h2>配置选项</h2>
                            <pre><code>with:
  api-key: ${{ secrets.OPENAI_API_KEY }}
  model: codex-latest
  task: review-code
  working-directory: ./src
  fail-on-issues: true
  create-comments: true</code></pre>
                        </div>
                    </article>
                </section>

                <!-- BLOG: EVAL SKILLS -->
                <section id="blog-eval-skills" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>如何系统化评测智能体技能（Evals）</h1>
                        <p class="subtitle">官方博客文章中文导读。</p>

                        <div class="intro-block">
                            <h2>这篇文章讲什么</h2>
                            <p>这篇文章介绍了如何把“技能是否好用”从主观感受，变成可重复、可比较、可持续改进的工程流程。核心思路是为技能设计评测用例，建立评分标准，并让评测自动化地持续运行。</p>

                            <h2>适合谁看</h2>
                            <ul>
                                <li>在团队里维护多种 Agent 技能的人</li>
                                <li>希望降低技能回归风险、做版本对比的人</li>
                                <li>想把 Prompt/技能调优流程产品化的人</li>
                            </ul>

                            <h2>原文链接</h2>
                            <p><a href="https://developers.openai.com/blog/eval-skills" target="_blank" rel="noopener noreferrer">Testing Agent Skills Systematically with Evals</a></p>
                        </div>
                    </article>
                </section>

                <!-- BLOG: SKYSCANNER MCP -->
                <section id="blog-skyscanner-mcp" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Skyscanner 如何用 JetBrains MCP 强化 Codex</h1>
                        <p class="subtitle">官方博客案例中文导读。</p>

                        <div class="intro-block">
                            <h2>这篇文章讲什么</h2>
                            <p>Skyscanner 分享了把 Codex CLI 接入 JetBrains IDE 的实践：通过 MCP 把 IDE 与 Codex 协同起来，用更顺滑的上下文流提升调试、测试和开发效率。</p>

                            <h2>可借鉴点</h2>
                            <ul>
                                <li>在团队既有 IDE 工作流中引入 Codex，而不是强行替换习惯</li>
                                <li>以“可验证结果”为目标组织智能体任务链路</li>
                                <li>把工具集成做成可复用的工程能力</li>
                            </ul>

                            <h2>原文链接</h2>
                            <p><a href="https://developers.openai.com/blog/skyscanner-codex-jetbrains-mcp" target="_blank" rel="noopener noreferrer">Supercharging Codex with JetBrains MCP at Skyscanner</a></p>
                        </div>
                    </article>
                </section>

                <!-- BLOG: VIEW ALL -->
                <section id="blog" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>博客（Codex 专题）</h1>
                        <p class="subtitle">查看 Codex 主题下的完整文章列表。</p>

                        <div class="intro-block">
                            <h2>官方精选（与侧栏一致）</h2>
                            <ul>
                                <li><a href="https://developers.openai.com/blog/eval-skills" target="_blank" rel="noopener noreferrer"><strong>如何用 Evals 系统化测试智能体技能</strong></a> - 系统化评估智能体技能</li>
                                <li><a href="https://developers.openai.com/blog/skyscanner-codex-jetbrains-mcp" target="_blank" rel="noopener noreferrer"><strong>Skyscanner 如何用 JetBrains MCP 强化 Codex</strong></a> - Skyscanner 的实战案例</li>
                            </ul>

                            <h2>查看全部</h2>
                            <p>访问 <a href="https://developers.openai.com/blog/topic/codex" target="_blank" rel="noopener noreferrer">developers.openai.com/blog/topic/codex</a> 查看完整文章归档。</p>
                        </div>
                    </article>
                </section>

                <!-- COOKBOOK: PROMPTING GUIDE -->
                <section id="cookbook-prompting-guide" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 提示词指南</h1>
                        <p class="subtitle">官方 Cookbook 中文导读。</p>

                        <div class="intro-block">
                            <h2>核心价值</h2>
                            <p>该指南给出了 Codex 场景下更稳定的提示词写法，帮助你在代码理解、修改、验证等任务中获得更可控的输出质量。</p>

                            <h2>阅读重点</h2>
                            <ul>
                                <li>如何定义任务边界与验收标准</li>
                                <li>如何组织上下文，减少无关信息干扰</li>
                                <li>如何设计多步执行与自检指令</li>
                            </ul>

                            <h2>原文链接</h2>
                            <p><a href="https://cookbook.openai.com/examples/gpt-5/codex_prompting_guide" target="_blank" rel="noopener noreferrer">Codex Prompting Guide</a></p>
                        </div>
                    </article>
                </section>

                <!-- COOKBOOK: CODE MODERNIZATION -->
                <section id="cookbook-modernization" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>使用 Codex 现代化代码库</h1>
                        <p class="subtitle">官方 Cookbook 中文导读。</p>

                        <div class="intro-block">
                            <h2>核心价值</h2>
                            <p>这篇教程展示了如何把大规模遗留系统升级拆解为可执行阶段，利用 Codex 在“分析现状 → 规划改造 → 逐步落地 → 验证回归”中稳定推进。</p>

                            <h2>阅读重点</h2>
                            <ul>
                                <li>如何从高风险模块开始分批改造</li>
                                <li>如何把测试与代码变更绑定，降低回归风险</li>
                                <li>如何用标准化流程提升团队协作效率</li>
                            </ul>

                            <h2>原文链接</h2>
                            <p><a href="https://cookbook.openai.com/examples/codex/code_modernization" target="_blank" rel="noopener noreferrer">Modernizing your Codebase with Codex</a></p>
                        </div>
                    </article>
                </section>

                <!-- COOKBOOKS: VIEW ALL -->
                <section id="cookbooks" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>实战手册</h1>
                        <p class="subtitle">实战教程和代码示例。</p>

                        <div class="intro-block">
                            <h2>精选教程</h2>
                            <ul>
                                <li><a href="https://cookbook.openai.com/examples/gpt-5/codex_prompting_guide" target="_blank" rel="noopener noreferrer"><strong>Codex 提示词指南</strong></a> - 官方推荐的 Codex 提示策略与实践。</li>
                                <li><a href="https://cookbook.openai.com/examples/codex/code_modernization" target="_blank" rel="noopener noreferrer"><strong>使用 Codex 现代化你的代码库</strong></a> - 通过 Codex 分阶段升级遗留工程。</li>
                            </ul>

                            <h2>查看更多</h2>
                            <p>查看 Codex 主题下的完整 Cookbook 列表：<a href="https://cookbook.openai.com/topic/codex" target="_blank" rel="noopener noreferrer">cookbook.openai.com/topic/codex</a></p>
                            <p>贡献入口：<a href="https://github.com/openai/openai-cookbook" target="_blank" rel="noopener noreferrer">GitHub Cookbook 仓库</a></p>
                        </div>
                    </article>
                </section>

                <!-- BUILDING AI TEAMS SECTION -->
                <section id="building-ai-teams" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>构建 AI 团队</h1>
                        <p class="subtitle">打造高效 AI 协作团队的指南。</p>

                        <div class="intro-block">
                            <h2>课程内容</h2>
                            <ul>
                                <li>第 1 课：AI 在软件工程中的角色定位</li>
                                <li>第 2 课：招聘和组建 AI 增强型团队</li>
                                <li>第 3 课：制定 AI 使用规范和政策</li>
                                <li>第 4 课：度量 AI 生产力和 ROI</li>
                                <li>第 5 课：管理变革和文化转型</li>
                            </ul>

                            <h2>目标受众</h2>
                            <p>本课程专为工程总监、工程副总裁、首席技术官和技术创始人设计。</p>

                            <h2>报名</h2>
                            <p>访问 <a href="https://developers.openai.com/codex/guides/build-ai-native-engineering-team" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/guides/build-ai-native-engineering-team</a> 报名参加。</p>
                        </div>
                    </article>
                </section>

                <!-- AMBASSADORS SECTION -->
                <section id="ambassadors" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 大使</h1>
                        <p class="subtitle">由社区组织者、开源维护者、学生领袖与重度用户组成的全球计划。</p>

                        <div class="intro-block">
                            <p>Codex 正在快速成为高效构建软件的重要方式，而这离不开开发者之间对真实工作流和实战经验的共享。</p>
                            <p>Codex 大使是积极推动实践落地的人群：他们组织社区活动、复用学习资产，并把一线反馈直接带回 Codex 团队。</p>

                            <p>
                                <a href="https://openai.com/form/codex-ambassadors" target="_blank" rel="noopener noreferrer"><strong>立即申请</strong></a>
                                ·
                                <a href="https://developers.openai.com/codex/community/meetups" target="_blank" rel="noopener noreferrer"><strong>查看近期聚会</strong></a>
                            </p>

                            <div class="app-screenshot" style="margin: 2rem 0;">
                                <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
                                    <img src="https://developers.openai.com/images/codex/ambassadors/ambassadors-18.jpg" alt="Codex 大使社区活动现场 1" style="width:100%;border-radius:12px;">
                                    <img src="https://developers.openai.com/images/codex/ambassadors/ambassadors-25.jpg" alt="Codex 大使社区活动现场 2" style="width:100%;border-radius:12px;">
                                </div>
                            </div>

                            <h2>你将参与什么</h2>
                            <p>作为 Codex 大使，你将与 OpenAI 协作，共同推动本地开发者生态：</p>
                            <ul>
                                <li>在本地社区组织 Codex 实战活动与工作坊。</li>
                                <li>沉淀可复用的学习资料，帮助更多开发者上手。</li>
                                <li>尝试并验证社区增长和支持方案。</li>
                                <li>向 Codex 团队提供真实、直接的一线反馈。</li>
                            </ul>

                            <h2>谁适合申请</h2>
                            <p>适合有社区实践经验的开发者：例如组织聚会、维护开源项目、开展技术培训，或长期帮助他人学习构建。</p>

                            <h2>OpenAI 提供的支持</h2>
                            <ul>
                                <li>用于你个人实践与本地活动的 Codex credits。</li>
                                <li>可直接复用并按社区情况定制的活动素材包。</li>
                                <li>与其他大使及 Codex 团队的直接协作通道。</li>
                                <li>专属活动邀请，以及周边和贡献奖励。</li>
                            </ul>
                            <p><strong>时间投入参考：</strong>每周约 2-4 小时。</p>
                        </div>
                    </article>
                </section>

                <!-- MEETUPS SECTION -->
                <section id="meetups" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Codex 聚会</h1>
                        <p class="subtitle">由 Codex 社区与 OpenAI 共同支持的线下活动。</p>

                        <div class="intro-block">
                            <p>活动日程会动态更新。以下为官方页面可见的近期活动快照（抓取日期：2026年2月22日）。</p>

                            <h2>近期活动（官方同步）</h2>
                            <ul>
                                <li><strong>2026-02-26 · Melbourne</strong>（Melbourne, Australia） - <a href="https://luma.com/kk8zjlbs" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-02-26 · Toronto</strong>（Toronto, Canada） - <a href="https://luma.com/huy9juwr" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-02-28 · Singapore</strong>（Singapore） - <a href="https://luma.com/fbhtrppu" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-03-03 · Berlin</strong>（Berlin, Germany） - <a href="https://luma.com/nqfn64o8" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-03-04 · Warsaw</strong>（Warsaw, Poland） - <a href="https://poland.aitinkerers.org/p/ai-tinkerers-poland-7-meetup-in-warsaw-5th-march" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-03-05 · Amsterdam</strong>（Amsterdam, NL） - <a href="https://luma.com/s2mzg0tl" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-03-05 · Munich</strong>（Munich, Germany） - <a href="https://luma.com/1oouw6ew" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-03-07 · Seoul</strong>（Seoul, South Korea） - <a href="https://luma.com/hdwrnztq" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-03-10 · Vienna</strong>（Vienna, Austria） - <a href="https://www.meetup.com/vienna-ai-engineering/events/313419529/" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                                <li><strong>2026-04-08 · Mexico City</strong>（Mexico City, Mexico） - <a href="https://luma.com/suipk589" target="_blank" rel="noopener noreferrer">报名链接</a></li>
                            </ul>

                            <h2>主办你所在城市的聚会</h2>
                            <p>如果你希望主办本地 Codex 社区活动，请申请加入 <a href="https://developers.openai.com/codex/ambassadors" target="_blank" rel="noopener noreferrer">Codex 大使计划</a>。</p>

                            <h2>完整活动页</h2>
                            <p>查看官方动态列表（含后续新增场次）：<a href="https://developers.openai.com/codex/community/meetups" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/community/meetups</a></p>
                        </div>
                    </article>
                </section>

                <!-- FEATURE MATURITY SECTION -->
                <section id="feature-maturity" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>功能成熟度</h1>
                        <p class="subtitle">理解 Codex 文档中的成熟度标签及其含义。</p>

                        <div class="intro-block">
                            <p>部分 Codex 功能会标注成熟度，用于说明其稳定性、变更风险与支持等级。</p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>成熟度</th>
                                        <th>含义</th>
                                        <th>建议</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>开发中（Under development）</td>
                                        <td>尚未准备好使用。</td>
                                        <td>不要使用。</td>
                                    </tr>
                                    <tr>
                                        <td>实验性（Experimental）</td>
                                        <td>不稳定，OpenAI 可能调整或移除。</td>
                                        <td>自行承担风险。</td>
                                    </tr>
                                    <tr>
                                        <td>测试版（Beta）</td>
                                        <td>功能基本完整，可广泛测试，但仍可能根据反馈做调整。</td>
                                        <td>适合评估与试点。</td>
                                    </tr>
                                    <tr>
                                        <td>稳定版（Stable）</td>
                                        <td>完整支持并文档化，行为与配置相对稳定。</td>
                                        <td>可用于生产环境。</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>官方页面：<a href="https://developers.openai.com/codex/feature-maturity" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/feature-maturity</a></p>
                        </div>
                    </article>
                </section>

                <!-- OPEN SOURCE SECTION -->
                <section id="open-source" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>开源</h1>
                        <p class="subtitle">Codex 的开源组件与协作入口。</p>

                        <div class="intro-block">
                            <p>OpenAI 将 Codex 的关键部分在 GitHub 上开源，方便开发者跟踪进展、提交问题与参与贡献。</p>

                            <h2>开源组件</h2>
                            <ul>
                                <li><strong>Codex CLI：</strong><a href="https://github.com/openai/codex" target="_blank" rel="noopener noreferrer">openai/codex</a></li>
                                <li><strong>Codex SDK：</strong><a href="https://github.com/openai/codex/tree/main/sdk" target="_blank" rel="noopener noreferrer">openai/codex/tree/main/sdk</a></li>
                                <li><strong>Codex App Server：</strong><a href="https://github.com/openai/codex/tree/main/codex-rs/app-server" target="_blank" rel="noopener noreferrer">openai/codex/tree/main/codex-rs/app-server</a></li>
                                <li><strong>Skills：</strong><a href="https://github.com/openai/skills" target="_blank" rel="noopener noreferrer">openai/skills</a></li>
                                <li><strong>通用云环境（Universal Cloud Environment）：</strong><a href="https://github.com/openai/codex-universal" target="_blank" rel="noopener noreferrer">openai/codex-universal</a></li>
                            </ul>

                            <h2>当前未开源部分</h2>
                            <ul>
                                <li>IDE 扩展（官方）</li>
                                <li>Codex Web</li>
                            </ul>

                            <h2>问题反馈与功能建议</h2>
                            <ul>
                                <li>问题反馈（Issue）：<a href="https://github.com/openai/codex/issues" target="_blank" rel="noopener noreferrer">github.com/openai/codex/issues</a></li>
                                <li>讨论区：<a href="https://github.com/openai/codex/discussions" target="_blank" rel="noopener noreferrer">github.com/openai/codex/discussions</a></li>
                            </ul>
                            <p>官方页面：<a href="https://developers.openai.com/codex/open-source" target="_blank" rel="noopener noreferrer">developers.openai.com/codex/open-source</a></p>
                        </div>
                    </article>
                </section>

            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const OFFICIAL_BASE = 'https://developers.openai.com';
            const officialLinks = {
                overview: '/codex',
                quickstart: '/codex/quickstart',
                explore: '/codex/explore',
                pricing: '/codex/pricing',
                prompting: '/codex/prompting',
                customization: '/codex/concepts/customization',
                'multi-agents': '/codex/concepts/multi-agents',
                workflows: '/codex/workflows',
                models: '/codex/models',
                'cyber-safety': '/codex/concepts/cyber-safety',
                'app-overview': '/codex/app',
                'app-features': '/codex/app/features',
                'app-settings': '/codex/app/settings',
                'app-review': '/codex/app/review',
                'app-automations': '/codex/app/automations',
                'app-worktrees': '/codex/app/worktrees',
                'app-local': '/codex/app/local-environments',
                'app-commands': '/codex/app/commands',
                'app-troubleshooting': '/codex/app/troubleshooting',
                extension: '/codex/ide',
                'ide-features': '/codex/ide/features',
                'ide-settings': '/codex/ide/settings',
                'ide-commands': '/codex/ide/commands',
                'ide-slash': '/codex/ide/slash-commands',
                cli: '/codex/cli',
                'cli-features': '/codex/cli/features',
                'cli-reference': '/codex/cli/reference',
                'cli-slash': '/codex/cli/slash-commands',
                'cli-noninteractive': '/codex/noninteractive',
                web: '/codex/cloud',
                'cloud-env': '/codex/cloud/environments',
                'cloud-internet': '/codex/cloud/internet-access',
                integrations: '/codex/integrations/github',
                github: '/codex/integrations/github',
                linear: '/codex/integrations/linear',
                slack: '/codex/integrations/slack',
                'config-file': '/codex/config-basic',
                'config-advanced': '/codex/config-advanced',
                'config-reference': '/codex/config-reference',
                'config-sample': '/codex/config-sample',
                'config-multi-agent': '/codex/multi-agent',
                rules: '/codex/rules',
                'agents-md': '/codex/guides/agents-md',
                mcp: '/codex/mcp',
                skills: '/codex/skills',
                authentication: '/codex/auth',
                security: '/codex/security',
                'enterprise-admin': '/codex/enterprise/admin-setup',
                'enterprise-governance': '/codex/enterprise/governance',
                windows: '/codex/windows',
                'non-interactive': '/codex/noninteractive',
                'codex-sdk': '/codex/sdk',
                'app-server': '/codex/app-server',
                'mcp-server': '/codex/guides/agents-sdk',
                'github-action': '/codex/github-action',
                videos: '/codex/videos',
                'blog-eval-skills': '/blog/eval-skills',
                'blog-skyscanner-mcp': '/blog/skyscanner-codex-jetbrains-mcp',
                blog: '/blog/topic/codex',
                'cookbook-prompting-guide': '/cookbook/examples/gpt-5/codex_prompting_guide',
                'cookbook-modernization': '/cookbook/examples/codex/code_modernization',
                cookbooks: '/cookbook/topic/codex',
                'building-ai-teams': '/codex/guides/build-ai-native-engineering-team',
                ambassadors: '/codex/ambassadors',
                meetups: '/codex/community/meetups',
                changelog: '/codex/changelog',
                'feature-maturity': '/codex/feature-maturity',
                'open-source': '/codex/open-source'
            };

            const docLinks = Array.from(document.querySelectorAll('.doc-link'));
            const sections = Array.from(document.querySelectorAll('.doc-section'));
            const searchInput = document.querySelector('.search-box input');
            const copyBtn = document.querySelector('.btn-copy-page');

            function getCurrentSectionId() {
                const activeSection = document.querySelector('.doc-section.active');
                return activeSection ? activeSection.id : 'overview';
            }

            function showSection(targetId) {
                const finalTarget = document.getElementById(targetId) ? targetId : 'overview';

                sections.forEach(section => {
                    section.classList.remove('active');
                });

                const targetSection = document.getElementById(finalTarget);
                if (targetSection) {
                    targetSection.classList.add('active');
                }

                docLinks.forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`.doc-link[data-target="${finalTarget}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                    const parentUl = activeLink.closest('.sub-nav');
                    if (parentUl) {
                        parentUl.classList.add('active');
                    }
                }
            }

            // 为每个导航项补充官方原文链接，保留原始 hyperlink。
            docLinks.forEach(link => {
                const targetId = link.getAttribute('data-target');
                if (!targetId) {
                    return;
                }
                const officialPath = officialLinks[targetId];
                if (!officialPath) {
                    return;
                }
                const officialUrl = `${OFFICIAL_BASE}${officialPath}`;
                link.href = officialUrl;
                link.setAttribute('target', '_blank');
                link.setAttribute('rel', 'noopener noreferrer');
                link.dataset.officialUrl = officialUrl;
            });

            // Handle sub-menu expand/collapse
            document.querySelectorAll('.with-arrow').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const parentLi = link.parentElement;
                    const subNav = parentLi.querySelector('.sub-nav');
                    if (subNav) {
                        subNav.classList.toggle('active');
                    }
                });
            });

            // Handle navigation to sections
            docLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    if (link.classList.contains('with-arrow')) {
                        return;
                    }

                    const isModifiedClick = e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || e.button === 1;
                    if (isModifiedClick) {
                        return;
                    }

                    e.preventDefault();
                    const targetId = link.getAttribute('data-target');
                    if (targetId) {
                        showSection(targetId);
                        window.history.pushState(null, null, `#${targetId}`);
                    }
                });
            });

            // 侧栏搜索
            if (searchInput) {
                const navSections = Array.from(document.querySelectorAll('.sidebar .nav-section'));
                searchInput.addEventListener('input', () => {
                    const keyword = searchInput.value.trim().toLowerCase();
                    if (!keyword) {
                        navSections.forEach(section => {
                            section.style.display = '';
                            section.querySelectorAll('li').forEach(li => {
                                li.style.display = '';
                            });
                        });
                        return;
                    }

                    navSections.forEach(section => {
                        let hasVisible = false;
                        section.querySelectorAll('a.doc-link').forEach(link => {
                            if (link.classList.contains('with-arrow')) {
                                return;
                            }
                            const li = link.closest('li');
                            if (!li) {
                                return;
                            }
                            const text = link.textContent.trim().toLowerCase();
                            const matched = text.includes(keyword);
                            li.style.display = matched ? '' : 'none';
                            hasVisible = hasVisible || matched;
                        });
                        section.style.display = hasVisible ? '' : 'none';
                    });
                });
            }

            // 复制当前页链接（本地 + 官方原文）
            if (copyBtn) {
                copyBtn.addEventListener('click', async () => {
                    const activeId = getCurrentSectionId();
                    const localUrl = `${window.location.origin}${window.location.pathname}#${activeId}`;
                    const officialPath = officialLinks[activeId];
                    const officialUrl = officialPath ? `${OFFICIAL_BASE}${officialPath}` : '';
                    const payload = officialUrl ? `${localUrl}\n官方原文：${officialUrl}` : localUrl;

                    try {
                        await navigator.clipboard.writeText(payload);
                        const oldHtml = copyBtn.innerHTML;
                        copyBtn.textContent = '已复制';
                        setTimeout(() => {
                            copyBtn.innerHTML = oldHtml;
                        }, 1200);
                    } catch (error) {
                        console.error('复制失败', error);
                    }
                });
            }

            // Handle Light Mode
            const themeBtn = document.getElementById('theme-toggle-btn');
            const savedTheme = localStorage.getItem('codex-doc-theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
            }

            if (themeBtn) {
                const renderThemeIcon = () => {
                    const isLight = document.body.classList.contains('light-theme');
                    if (isLight) {
                        themeBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>';
                    } else {
                        themeBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';
                    }
                };

                renderThemeIcon();
                themeBtn.addEventListener('click', () => {
                    document.body.classList.toggle('light-theme');
                    const isLight = document.body.classList.contains('light-theme');
                    localStorage.setItem('codex-doc-theme', isLight ? 'light' : 'dark');
                    renderThemeIcon();
                });
            }

            // Handle initial direct load
            if (window.location.hash) {
                const pureHash = window.location.hash.substring(1);
                showSection(pureHash);
            } else {
                showSection('overview');
            }

            // Handle hash changes (when user clicks anchor links)
            window.addEventListener('hashchange', () => {
                const pureHash = window.location.hash.substring(1);
                if (pureHash) {
                    showSection(pureHash);
                }
            });
        });
    </script>
</body>

</html>
