<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codex 开发者文档 - OpenAI Developers</title>
    <meta name="description" content="Codex 开发者官方文档。了解如何配置、使用及集成 Codex 软件工程智能体。">
    <link rel="stylesheet" href="docs.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Top Navigation Bar -->
    <header class="top-nav">
        <div class="top-nav-left">
            <a href="javascript:void(0)" class="logo" style="cursor: default;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0339 6.0339 0 0 0 5.7718-4.2057 5.9847 5.9847 0 0 0 3.989-2.9001 6.0462 6.0462 0 0 0-.7388-7.0731z" />
                </svg>
                <span>OpenAI Developers</span>
            </a>
        </div>
        <div class="top-nav-right">
            <button class="theme-toggle" id="theme-toggle-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
    </header>

    <div class="layout-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="search-box">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" placeholder="搜索文档...">
                <span class="shortcut">⌘ K</span>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3>快速入门</h3>
                    <ul>
                        <li><a href="#overview" class="doc-link" data-target="overview">概览</a></li>
                        <li><a href="#quickstart" class="doc-link" data-target="quickstart">快速开始</a></li>
                        <li><a href="#explore" class="doc-link" data-target="explore">探索</a></li>
                        <li><a href="#pricing" class="doc-link" data-target="pricing">价格</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>核心概念</h3>
                    <ul>
                        <li>
                            <a href="#prompting" class="doc-link with-arrow" data-target="prompting">提示词
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#prompting" class="doc-link" data-target="prompting">提示词基础</a></li>
                                <li><a href="#multi-agents" class="doc-link" data-target="multi-agents">多智能体</a></li>
                                <li><a href="#cyber-safety" class="doc-link" data-target="cyber-safety">网络安全</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>Codex 客户端</h3>
                    <ul>
                        <li>
                            <a href="#app" class="doc-link with-arrow" data-target="app">应用
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#app-features" class="doc-link" data-target="app-features">功能特性</a></li>
                                <li><a href="#app-commands" class="doc-link" data-target="app-commands">指令</a></li>
                                <li><a href="#app-automations" class="doc-link" data-target="app-automations">自动化</a></li>
                                <li><a href="#app-review" class="doc-link" data-target="app-review">审查</a></li>
                                <li><a href="#app-settings" class="doc-link" data-target="app-settings">设置</a></li>
                                <li><a href="#app-worktrees" class="doc-link" data-target="app-worktrees">工作树</a></li>
                                <li><a href="#app-local" class="doc-link" data-target="app-local">本地环境</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#ide" class="doc-link with-arrow" data-target="ide">IDE 插件
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#ide-features" class="doc-link" data-target="ide-features">功能特性</a></li>
                                <li><a href="#ide-commands" class="doc-link" data-target="ide-commands">命令</a></li>
                                <li><a href="#ide-slash" class="doc-link" data-target="ide-slash">斜杠命令</a></li>
                                <li><a href="#ide-settings" class="doc-link" data-target="ide-settings">设置</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#cli-nav" class="doc-link with-arrow" data-target="cli-nav">命令行
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#cli-features" class="doc-link" data-target="cli-features">功能特性</a></li>
                                <li><a href="#cli-reference" class="doc-link" data-target="cli-reference">命令参考</a></li>
                                <li><a href="#cli-slash" class="doc-link" data-target="cli-slash">斜杠命令</a></li>
                                <li><a href="#cli-noninteractive" class="doc-link" data-target="cli-noninteractive">非交互模式</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#cloud" class="doc-link with-arrow" data-target="cloud">云端
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </a>
                            <ul class="sub-nav">
                                <li><a href="#cloud-env" class="doc-link" data-target="cloud-env">环境</a></li>
                                <li><a href="#cloud-internet" class="doc-link" data-target="cloud-internet">互联网访问</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>集成</h3>
                    <ul>
                        <li><a href="#github" class="doc-link" data-target="github">GitHub</a></li>
                        <li><a href="#linear" class="doc-link" data-target="linear">Linear</a></li>
                        <li><a href="#slack" class="doc-link" data-target="slack">Slack</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>配置</h3>
                    <ul>
                        <li><a href="#config-basic" class="doc-link" data-target="config-basic">基础配置</a></li>
                        <li><a href="#config-advanced" class="doc-link" data-target="config-advanced">高级配置</a></li>
                        <li><a href="#config-reference" class="doc-link" data-target="config-reference">配置参考</a></li>
                        <li><a href="#config-sample" class="doc-link" data-target="config-sample">配置示例</a></li>
                        <li><a href="#rules" class="doc-link" data-target="rules">规则</a></li>
                        <li><a href="#agents-md" class="doc-link" data-target="agents-md">AGENTS.md</a></li>
                        <li><a href="#mcp" class="doc-link" data-target="mcp">MCP 协议</a></li>
                        <li><a href="#skills" class="doc-link" data-target="skills">自定义技能</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>企业版</h3>
                    <ul>
                        <li><a href="#enterprise-admin" class="doc-link" data-target="enterprise-admin">管理员设置</a></li>
                        <li><a href="#enterprise-governance" class="doc-link" data-target="enterprise-governance">治理与合规</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>其他</h3>
                    <ul>
                        <li><a href="#security" class="doc-link" data-target="security">安全</a></li>
                        <li><a href="#models" class="doc-link" data-target="models">模型</a></li>
                        <li><a href="#changelog" class="doc-link" data-target="changelog">更新日志</a></li>
                        <li><a href="#videos" class="doc-link" data-target="videos">视频教程</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main SPA Content Area -->
        <main class="content-area" id="main-content">
            <div class="content-header">
                <button class="btn-copy-page">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    复制当前页
                </button>
            </div>

            <div class="sections-wrapper">

                <!-- EXPLORE SECTION -->
                <section id="explore" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>探索 (Explore)</h1>
                        <p class="subtitle">发现 Codex 的无限可能性。</p>

                        <div class="intro-block">
                            <h2>示例项目库</h2>
                            <p>探索由 Codex 构建的真实项目，从简单的 CLI 工具到复杂的 Web 应用。每个示例都包含完整的源代码、部署说明和构建过程解析。</p>
                            <ul>
                                <li><strong>入门示例：</strong> 待办事项应用、天气查询 CLI、Markdown 博客生成器</li>
                                <li><strong>进阶项目：</strong> RESTful API 服务、实时聊天应用、数据可视化仪表盘</li>
                                <li><strong>企业级案例：</strong> 微服务架构、CI/CD 流水线自动化、遗留代码重构</li>
                            </ul>

                            <h2>模板库 (Templates)</h2>
                            <p>一键启动你的下一个项目。选择技术栈，Codex 会自动生成符合最佳实践的项目骨架。</p>
                            <pre><code># 使用模板创建新项目
codex new --template nextjs-ts --name my-app
codex new --template express-api --name backend-service
codex new --template react-native --name mobile-app</code></pre>

                            <h2>技能商城 (Skills Marketplace)</h2>
                            <p>发现并安装社区开发的预制技能包，让 Codex 瞬间掌握特定领域知识：</p>
                            <ul>
                                <li><strong>数据库专家：</strong> PostgreSQL 优化、MongoDB 聚合、Redis 缓存策略</li>
                                <li><strong>云原生顾问：</strong> Kubernetes 部署、Terraform IaC、AWS 架构设计</li>
                                <li><strong>安全审计师：</strong> OWASP 漏洞扫描、渗透测试报告、合规性检查</li>
                            </ul>

                            <h2>社区展示</h2>
                            <p>关注顶尖 Codex 用户，学习他们的提示词技巧和工程化实践。每周更新"最佳构建"榜单，优秀项目可获得 OpenAI Credits 奖励。</p>
                        </div>
                    </article>
                </section>

                <!-- PRICING SECTION -->
                <section id="pricing" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>价格 (Pricing)</h1>
                        <p class="subtitle">选择适合你的订阅方案。</p>

                        <div class="intro-block">
                            <h2>订阅计划对比</h2>

                            <h3>ChatGPT Plus - ¥145/月</h3>
                            <ul>
                                <li>包含 Codex 基础版访问权限</li>
                                <li>每日 50 条 Codex 消息配额</li>
                                <li>标准响应速度</li>
                                <li>支持 Web 端和移动端访问</li>
                                <li>gpt-4o 和 o1-mini 模型访问</li>
                            </ul>

                            <h3>ChatGPT Pro - ¥1450/月</h3>
                            <ul>
                                <li>包含 Codex 完整版所有功能</li>
                                <li>每日 500 条 Codex 消息配额</li>
                                <li>优先响应队列</li>
                                <li>o1-pro 和 o3-mini 高级模型访问</li>
                                <li>深度研究 (Deep Research) 功能</li>
                                <li>专属的 Pro 用户社区支持</li>
                            </ul>

                            <h3>ChatGPT Business - ¥145/用户/月</h3>
                            <ul>
                                <li>为小团队设计（1-50 人）</li>
                                <li>无限 Codex 消息配额</li>
                                <li>共享工作空间和项目模板</li>
                                <li>团队管理控制台</li>
                                <li>数据隐私保护（对话不用于训练）</li>
                                <li>SSO 单点登录集成</li>
                            </ul>

                            <h3>ChatGPT Enterprise - 联系销售</h3>
                            <ul>
                                <li>为大规模组织设计（50+ 人）</li>
                                <li>无限制的使用量</li>
                                <li>高级安全审查和合规性</li>
                                <li>定制化部署选项</li>
                                <li>专属客户经理和技术支持</li>
                                <li>SLA 服务保障</li>
                                <li>私有化部署支持</li>
                            </ul>

                            <h2>用量说明</h2>
                            <blockquote>
                                <p><strong>消息配额如何计算？</strong><br>
                                每次与 Codex 的交互（发送一条消息并接收回复）计为 1 条消息。如果 Codex 在单次回复中执行了多个步骤（如读取多个文件、运行多个命令），仍然只计为 1 条消息。</p>
                            </blockquote>

                            <h2>教育优惠</h2>
                            <p>持有 .edu 邮箱的在校学生和教职员工可享受 ChatGPT Edu 免费访问，包含每日 100 条 Codex 消息配额。详情请访问 <a href="#">OpenAI Education</a> 页面。</p>
                        </div>
                    </article>
                </section>

                <!-- OVERVIEW SECTION -->
                <section id="overview" class="doc-section active">
                    <article class="document-content">
                        <h1>Codex 总览</h1>
                        <p class="subtitle">一个智能体，满足你所有编码场景的需求。</p>

                        <div class="intro-block">
                            <p>Codex 是 OpenAI 专为软件开发打造的编码智能体。包含在 ChatGPT Plus、Pro、Business、Edu 及 Enterprise
                                订阅计划中。它可以帮助你：</p>

                            <ul class="feature-list">
                                <li><strong>编写代码：</strong>描述你想要构建的核心功能，Codex 能够自动生成符合你意图的代码，并完美自适应你现有的工程结构和编码约定。</li>
                                <li><strong>解析未知代码库：</strong>阅读和解释复杂架构或历史遗留代码，帮助你快速理解团队组织复杂系统的方式。</li>
                                <li><strong>代码审查：</strong>通过静态分析与逻辑推演，有效识别潜在错误、逻辑缺陷及未处理边界。</li>
                                <li><strong>调试与修复：</strong>当系统崩溃时，Codex 会协助追溯故障栈、诊断原因并给出直接的修复补丁。</li>
                                <li><strong>自动化开发任务：</strong>主导执行高重复性的重构、测试、环境配置等工作流。</li>
                            </ul>

                            <button class="btn-get-started"
                                onclick="document.querySelector('[data-target=\'quickstart\']').click()">
                                开始使用 Codex <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                    <polyline points="12 5 19 12 12 19"></polyline>
                                </svg>
                            </button>
                        </div>
                    </article>
                </section>

                <!-- QUICKSTART SECTION -->
                <section id="quickstart" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>快速开始 (Quickstart)</h1>
                        <p class="subtitle">在你的 IDE、CLI 或者云端直接开始使用 Codex。</p>

                        <div class="intro-block">
                            <h2>1. Codex 桌面级应用 (macOS)</h2>
                            <p>Codex 客户端目前专属提供给 macOS (Apple Silicon) 用户，为你提供一个独立的、悬浮于任何工作流之上的终极结对编程环境。</p>
                            <ol>
                                <li><strong>下载并安装：</strong> 运行并在弹出的窗口中通过 ChatGPT 或 OpenAI API Key 登录。</li>
                                <li><strong>选择工作区：</strong> 挑选一个你需要 Codex 介入的本地工程文件夹。</li>
                                <li><strong>发送你的第一条消息：</strong> 确保模式选定为 <code>Local</code>（让 Codex
                                    原生运行在你机器上），然后随便问它关于代码的问题，比如：<em>“向我解释一下这个项目架构”</em> 或 <em>“在这个 repo 下写一个贪吃蛇游戏”</em>。
                                </li>
                            </ol>

                            <h2>2. IDE 插件 (VS Code, Cursor, Windsurf)</h2>
                            <p>让 Codex 常驻在你的代码编辑器侧边栏中。</p>
                            <ol>
                                <li>在插件市场搜索并下载 <strong>Codex / ChatGPT</strong> 官方插件。</li>
                                <li><strong>打开侧边栏面板：</strong> 登录后，Codex 默认会以 <strong>Agent 模式</strong>
                                    启动。这意味着它不仅能对话，更能自主阅读文件、在你的终端跑指令，以及直接拉起 Diff 试图修改你的代码。</li>
                                <li><strong>建立 Git 快照：</strong> 既然 Codex 有能力直接改写代码，我们强烈建议你在交办任务前后提交 Git
                                    记录，就像打游戏时的存盘点（Save point），以便随时撤销“翻车”操作。</li>
                            </ol>

                            <h2>3. 命令行工具 (CLI)</h2>
                            <p>这是开放给所有终端黑客（macOS, Windows, Linux 全平台）的最原生体验：</p>
                            <pre><code>npm install -g @openai/codex<br># 或者使用 Homebrew 安装<br>brew install codex</code></pre>
                            <p>安装完成后，在所在的项目目录下敲入 <code>codex</code> 即可唤醒它。验证身份后，直接告诉它当前目录要完成什么任务。</p>

                            <h2>4. Web 云端平台 (Cloud)</h2>
                            <p>不消耗任何本地算力？你可以去去网页版 <a href="#">chatgpt.com/codex</a> 开辟云端战场。</p>
                            <ul>
                                <li><strong>连接仓库：</strong> 按照向导关联你的 GitHub Repository。只要环境跑起来了，哪怕页面关掉它也会在后台默默推平史诗级重构。
                                </li>
                                <li><strong>审查并下发 PR：</strong> 当它完成任务后，你可以直接在云端看 Diff。如果觉得一切完美就点击「创建 Pull
                                    Request」。当然你也可用 <code>git fetch</code> 与 <code>git checkout <branch-name></code>
                                    拉回本地跑一遍测试。</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- APP FEATURES SECTION -->
                <section id="app-features" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>客户端特性 (App Features)</h1>
                        <p class="subtitle">桌面端 Codex 提供了超前的系统级集成，全面解放开发生产力。</p>

                        <div class="app-screenshot">
                            <img src="https://developers.openai.com/images/codex/app/codex-app-basic-dark.webp" alt="Codex 客户端界面预览" style="width: 100%; max-width: 1200px; border-radius: 12px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); margin: 2rem 0;">
                        </div>

                        <div class="intro-block">
                            <h2>多工程并行 (Multitask across projects)</h2>
                            <p>在一个 Codex 客户端窗口内，你就可以切分并同时推进横跨多个代码库的并发任务。如果你的项目是一个 Monorepo，建议为每一个独立的前后端服务划定单独的 Project
                                Context，以确保 AI 的沙盒足够纯粹，不会胡乱找错引用文件。</p>

                            <h2>沙箱与三种环境模式 (Modes)</h2>
                            <p>开启每一条对话线程时，你就像是在为智能体指派任务执行的物理宇宙。你可以选择：</p>
                            <ul>
                                <li><strong>Local (本地模式)：</strong> 直接在你当下的工作目录进行肆意增删改查。</li>
                                <li><strong>Worktree (工作树隔离模式)：</strong> Codex 会在后台悄悄切出一个平行的 <a href="#">Git
                                        Worktree</a>。想让 AI 尝试推翻原本的架构而不把你的代码搞崩？这是最好的选择。你可以同时开多个线程分别在独立的 Worktree
                                    尝试不同思路，互不干扰！</li>
                                <li><strong>Cloud (云端模式)：</strong> 让任务在配好的远端云环境全速运转，将这台笔记本的算力彻底解放。</li>
                            </ul>

                            <h2>一站式 Git 与合并</h2>
                            <p>桌面客户端自带完整的 Diff 面板，你可以像 Code Review 一样高亮它生成的某块代码并加上内联评论（Inline Comments）直接打回重修。你还可以全自动走完
                                Git 提交与 Push 流程，完全不需要切换到终端窗口。</p>

                            <h2>画中画悬浮窗 (Floating pop-out)</h2>
                            <p>如果你在处理前端交互或设计，你可以把正在干活的对话线程“连根拔起”，缩小成一个永远置顶的悬浮模块。这样你在开着模拟器或浏览器检视页面样式变动时，还能不断通过旁边的悬浮窗微调
                                CSS，这是一种前所未有的心流体验。</p>

                            <h2>MCP (模型上下文协议) 全程支持</h2>
                            <p>Codex 原生互联并共享所有 <strong>Model Context Protocol (MCP)</strong> 的服务配置。只要你在其中任何一处配置过诸如
                                Supabase、Linear 等外部开发工具或者图表库的 MCP Server，Codex 会立马自动学会通过调用 API 去为你构建相关代码逻辑。</p>

                            <h2>全局语音听写 (Voice Dictation)</h2>
                            <p>按住 <code>Ctrl + M</code>，对着麦克风说出你的需求。系统将准确的将语音转录为文字 Prompts。当你想向 AI
                                解释一段几十行长、充满各种晦涩逻辑的业务需求时，不用再费劲打字了。</p>
                        </div>
                    </article>
                </section>

                <!-- PROMPTING SECTION -->
                <section id="prompting" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>提示词指南 (Prompting)</h1>
                        <p class="subtitle">在开发语境下，如何高效地“点拨” Codex 智能体？</p>

                        <div class="intro-block">
                            <h2>Prompt：发行的工程指令</h2>
                            <p>Codex 并不是普通的聊天机器人，你发出去的每一条问题或需求都将被转化为“循环指令”。比如 <em>“写一个脚本输出 JSON 日志”</em>。一旦给出，Codex
                                开启它自己的 <strong>Read-Write-Execute 循环</strong>：自我检索模型知识库 -> 读取本地目录里的现有代码 -> 修改或调用工具 ->
                                评估结果 -> 自我纠正。这个进程只有等它觉得完成了（或是被你大喊“停下”）才会终止。</p>

                            <blockquote>
                                <p><strong>高分秘籍：为 AI 创造一个可证伪的环境</strong><br>
                                    Codex 在能够自己“验证结论”时产出最具震撼力。在布置任务的同时，给它一个具体的验收标准。比如丢几行 <code>pnpm test</code> 或是报错复现的
                                    Terminal 日志给它，然后说：“写这段代码，然后确保你的改动通过这个测试才算完。” 它接下来就真的会进入 TDD（测试驱动开发）模式为你全自动干活！</p>
                            </blockquote>

                            <h2>化繁为简：大模块切分</h2>
                            <p>它能干很牛的事，但要分解。处理超巨型需求（比如“帮我把项目里遗留的 GraphQL 彻底替换成
                                REST”）时，最好把任务打散成小线程（Threads）。小任务意味着更小更清晰的审查（Review）范围。如果你根本不知道咋拆，你甚至可以直接把超巨型需求喂给它，然后说：<em>“为以上目标给我制定一个
                                    5 步实施方案”</em>，让它帮你规划。</p>

                            <h2>线程(Threads)与上下文缩容(Context Compaction)</h2>
                            <p>每个对话都是一个独立的 <strong>Thread</strong>，尽量不要同时派两个智能体跑两个 Thread
                                去修改同一份核心配置文件，这会像两个没通气的程序员一样引发冲突。<br>在处理非常漫长的马拉松编码任务时，大模型必然面临 Token 容量问题。不用担心，Codex
                                的架构内部实现了一种称为 <strong>Context Compaction（上下文自动无损压缩）</strong>
                                的神技：当历史对话太厚时，它会自动在后台把老旧无用的试错流水账提取、缩写为关键逻辑状态，确保在几百轮对话后它的智商依旧在线，并且完全记得这栋大楼的地基在哪里。</p>
                        </div>
                    </article>
                </section>

                <!-- EXTENSION SECTION -->
                <section id="extension" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>IDE 插件 (Extension)</h1>
                        <p class="subtitle">在你最熟悉的开发环境中集成 Codex。</p>

                        <div class="intro-block">
                            <h2>支持的 IDE</h2>
                            <ul>
                                <li><strong>Visual Studio Code</strong> - 完整功能支持</li>
                                <li><strong>Cursor</strong> - 原生集成 Codex 引擎</li>
                                <li><strong>Windsurf</strong> - Cascade 工作流支持</li>
                                <li><strong>JetBrains 全家桶</strong> - IntelliJ IDEA, PyCharm, WebStorm, GoLand</li>
                            </ul>

                            <h2>安装 VS Code 插件</h2>
                            <ol>
                                <li>打开 VS Code，进入扩展面板 (<code>Cmd+Shift+X</code>)</li>
                                <li>搜索 "Codex" 或 "ChatGPT"</li>
                                <li>点击安装由 OpenAI 官方发布的插件</li>
                                <li>安装完成后，点击侧边栏的 Codex 图标</li>
                                <li>使用 ChatGPT 账号登录即可完成授权</li>
                            </ol>

                            <h2>核心功能</h2>

                            <h3>1. Agent 模式（默认启用）</h3>
                            <p>在此模式下，Codex 拥有完整的"读 - 写 - 执行"权限：</p>
                            <ul>
                                <li><strong>读取文件：</strong> 自动打开并分析你打开的任何文件</li>
                                <li><strong>编辑代码：</strong> 直接生成 Diff 并应用到你当前编辑的文件</li>
                                <li><strong>运行终端命令：</strong> 可以执行 <code>npm install</code>、<code>git commit</code> 等命令</li>
                                <li><strong>创建/删除文件：</strong> 根据需求生成全新的文件或清理无用文件</li>
                            </ul>

                            <h3>2. 内联编辑 (Inline Edit)</h3>
                            <p>选中一段代码，右键选择 "Codex: 编辑选中内容"，然后输入你的修改指令：</p>
                            <pre><code># 示例指令
- "把这个函数改成 async/await 风格"
- "添加错误处理逻辑"
- "提取这段重复代码为一个独立函数"</code></pre>

                            <h3>3. 代码解释</h3>
                            <p>选中不理解的代码，点击 "解释此代码"。Codex 会逐行分析并用自然语言解释其功能和潜在问题。</p>

                            <h3>4. 单元测试生成</h3>
                            <p>右键点击任何函数或类，选择 "生成测试"，Codex 会自动创建 Jest/Vitest/Pytest 测试文件。</p>

                            <h2>快捷键配置</h2>
                            <p>打开 <code>settings.json</code> 自定义快捷键：</p>
                            <pre><code>{
  "codex.keybindings": {
    "openChat": "Ctrl+Shift+C",
    "inlineEdit": "Ctrl+Shift+E",
    "explainCode": "Ctrl+Shift+X",
    "generateTests": "Ctrl+Shift+T"
  }
}</code></pre>

                            <h2>隐私与安全</h2>
                            <blockquote>
                                <p><strong>重要提示：</strong> 在 Agent 模式下，Codex 有能力修改你的代码库。建议：</p>
                                <ul>
                                    <li>在 Codex 执行重大改动前，先提交当前的 Git 快照</li>
                                    <li>启用"预览 Diff 再应用"选项</li>
                                    <li>敏感配置文件（如 <code>.env</code>）添加到排除列表</li>
                                </ul>
                            </blockquote>
                        </div>
                    </article>
                </section>

                <!-- CLI SECTION -->
                <section id="cli" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>命令行工具 (CLI)</h1>
                        <p class="subtitle">终端用户的终极编码利器。</p>

                        <div class="intro-block">
                            <h2>安装</h2>

                            <h3>使用 npm (推荐)</h3>
                            <pre><code>npm install -g @openai/codex</code></pre>

                            <h3>使用 Homebrew (macOS)</h3>
                            <pre><code>brew tap openai/codex
brew install codex</code></pre>

                            <h3>使用 pip (Python)</h3>
                            <pre><code>pip install openai-codex</code></pre>

                            <h2>快速入门</h2>
                            <pre><code># 1. 验证安装
codex --version

# 2. 登录（浏览器会打开）
codex login

# 3. 进入项目目录
cd my-project

# 4. 启动 Codex
codex</code></pre>

                            <h2>基本用法</h2>
                            <p>启动后，你进入交互式对话模式：</p>
                            <pre><code>$ codex
> 帮我创建一个简单的 HTTP 服务器

✅ 正在创建 server.js...
✅ 已安装依赖 express
✅ 服务器已启动在 http://localhost:3000

需要我做其他事吗？</code></pre>

                            <h2>常用命令</h2>

                            <h3>非交互式任务（一次性执行）</h3>
                            <pre><code># 单行任务
codex run "重构这个函数的命名规范"

# 读取特定文件
codex run --file src/main.py "添加类型注解"

# 指定输出模式
codex run --json "分析 package.json 依赖"</code></pre>

                            <h3>项目管理</h3>
                            <pre><code># 列出所有项目
codex projects

# 创建新项目上下文
codex projects create my-app

# 切换项目
codex projects select my-app

# 删除项目
codex projects delete old-project</code></pre>

                            <h3>线程管理</h3>
                            <pre><code># 查看历史对话
codex threads

# 恢复之前的对话
codex threads resume &lt;thread-id&gt;

# 导出对话记录
codex threads export &lt;thread-id&gt; --format markdown</code></pre>

                            <h2>配置文件</h2>
                            <p>Codex CLI 的配置文件位于 <code>~/.codex/config.json</code>：</p>
                            <pre><code>{
  "defaultModel": "codex-latest",
  "autoApprove": false,
  "maxTokens": 4096,
  "excludePatterns": [
    "**/node_modules/**",
    "**/.git/**",
    "**/*.log"
  ],
  "hooks": {
    "beforeEdit": "git add -A",
    "afterEdit": "git diff --stat"
  }
}</code></pre>

                            <h2>高级技巧</h2>

                            <h3>管道输入</h3>
                            <pre><code># 将命令输出传递给 Codex
git diff HEAD~1 | codex run "解释这些改动"

# 处理错误日志
npm test 2>&1 | codex run "分析测试失败原因"</code></pre>

                            <h3>批处理模式</h3>
                            <pre><code># 从文件读取指令
codex run --instructions-file tasks.txt

# tasks.txt 内容:
1. 修复所有 ESLint 错误
2. 更新过时的依赖
3. 生成 API 文档</code></pre>

                            <h3>环境变量</h3>
                            <pre><code># 使用 API Key 而非浏览器登录
export OPENAI_API_KEY=sk-...
codex run "..."

# 指定配置目录
export CODEX_CONFIG=/path/to/custom/config
codex</code></pre>
                        </div>
                    </article>
                </section>

                <!-- WEB SECTION -->
                <section id="web" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>网页版 (Web)</h1>
                        <p class="subtitle">在浏览器中体验完整的 Codex 能力。</p>

                        <div class="intro-block">
                            <h2>访问网址</h2>
                            <p>前往 <a href="https://chatgpt.com/codex" target="_blank">chatgpt.com/codex</a> 登录你的 ChatGPT 账号即可开始使用。</p>

                            <h2>核心功能</h2>

                            <h3>1. 连接 GitHub 仓库</h3>
                            <p>网页版最大的优势是能够 24/7 不间断运行：</p>
                            <ol>
                                <li>点击 "连接仓库" 按钮</li>
                                <li>授权访问你的 GitHub 账号</li>
                                <li>选择要操作的 Repository</li>
                                <li>Codex 会自动分析项目结构并准备就绪</li>
                            </ol>

                            <h3>2. 任务执行模式</h3>
                            <p>网页版支持两种任务模式：</p>
                            <ul>
                                <li><strong>会话模式：</strong> 实时对话式开发，适合快速迭代和探索</li>
                                <li><strong>批处理模式：</strong> 提交一个大型任务后，可以关闭页面，任务会在云端继续执行</li>
                            </ul>

                            <h3>3. Pull Request 工作流</h3>
                            <p>当 Codex 完成任务后：</p>
                            <ol>
                                <li>你可以在网页上预览完整的 Diff</li>
                                <li>添加内联评论或要求修改</li>
                                <li>满意后点击"创建 Pull Request"</li>
                                <li>PR 会自动提交到你的 GitHub 仓库</li>
                            </ol>

                            <h2>高级功能</h2>

                            <h3>代码审查请求</h3>
                            <pre><code># 示例提示词
请审查这个 PR 的代码质量问题：
- 检查潜在的空指针异常
- 确认错误处理是否完整
- 评估性能影响</code></pre>

                            <h3>跨文件重构</h3>
                            <p>网页版拥有更大的上下文窗口，适合处理需要同时修改多个文件的大型重构任务。</p>

                            <h2>注意事项</h2>
                            <blockquote>
                                <p><strong>安全提示：</strong> 网页版执行的所有操作都会创建新分支，不会直接修改主分支。你可以在合并前进行充分的本地测试。</p>
                            </blockquote>
                        </div>
                    </article>
                </section>

                <!-- INTEGRATIONS SECTION -->
                <section id="integrations" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>集成 (Integrations)</h1>
                        <p class="subtitle">将 Codex 融入你现有的开发工具链。</p>

                        <div class="intro-block">
                            <h2>GitHub 集成</h2>
                            <h3>自动 Issue 处理</h3>
                            <p>配置 GitHub Actions 让 Codex 自动响应新 Issue：</p>
                            <pre><code># .github/workflows/codex-triage.yml
name: Codex Issue Triage
on:
  issues:
    types: [opened]
jobs:
  triage:
    runs-on: ubuntu-latest
    steps:
      - uses: openai/codex-action@v1
        with:
          api-key: ${{ secrets.OPENAI_API_KEY }}
          task: "analyze-and-label-issue"</code></pre>

                            <h3>PR 自动审查</h3>
                            <p>每次 Pull Request 提交后，Codex 自动进行代码审查并留下评论。</p>

                            <h2>Slack 机器人</h2>
                            <p>在 Slack 中与 Codex 对话，获取代码帮助：</p>
                            <ul>
                                <li><code>/codex 解释这段代码...</code> - 粘贴代码获取解释</li>
                                <li><code>/codex 帮我写个...</code> - 直接生成代码片段</li>
                                <li><code>/codex review &lt;PR URL&gt;</code> - 审查指定的 PR</li>
                            </ul>

                            <h2>Linear/Jira 集成</h2>
                            <p>从项目管理工具直接触发 Codex 任务：</p>
                            <ol>
                                <li>在任务描述中添加 <code>[CODEX]</code> 标签</li>
                                <li>Codex 会自动读取任务要求并开始执行</li>
                                <li>完成后自动更新任务状态并提交代码</li>
                            </ol>

                            <h2>CI/CD 流水线</h2>
                            <h3>GitHub Actions</h3>
                            <pre><code>- name: Codex Auto-Fix
  uses: openai/codex-action@v1
  with:
    task: "fix-eslint-errors"
    commit-message: "chore: auto-fix ESLint issues"</code></pre>

                            <h3>GitLab CI</h3>
                            <pre><code>codex-auto-merge:
  stage: merge
  script:
    - codex run "resolve merge conflicts"
    - git push origin $CI_COMMIT_REF_NAME</code></pre>

                            <h2>Vercel/Netlify 部署</h2>
                            <p>配置部署钩子让 Codex 在每次部署前自动执行检查和优化。</p>

                            <h2>自定义 Webhook</h2>
                            <p>通过 REST API 触发 Codex 任务：</p>
                            <pre><code>curl -X POST https://api.codex.openai.com/v1/tasks \
  -H "Authorization: Bearer $API_KEY" \
  -d '{
    "action": "refactor",
    "target": "src/auth/jwt.ts",
    "instructions": "迁移到使用 RS256 算法"
  }'</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CONFIG FILE SECTION -->
                <section id="config-file" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>配置文件 (Config File)</h1>
                        <p class="subtitle">深度定制 Codex 的行为和偏好。</p>

                        <div class="intro-block">
                            <h2>配置文件位置</h2>
                            <ul>
                                <li><strong>全局配置：</strong> <code>~/.codex/config.json</code></li>
                                <li><strong>项目配置：</strong> <code>&lt;project&gt;/.codex.json</code></li>
                                <li><strong>环境变量：</strong> 以 <code>CODEX_</code> 开头的环境变量会覆盖配置文件</li>
                            </ul>

                            <h2>完整配置示例</h2>
                            <pre><code>{
  "$schema": "https://codex.openai.com/schema/config.json",
  "model": {
    "name": "codex-latest",
    "temperature": 0.3,
    "maxTokens": 8192
  },
  "behavior": {
    "autoApprove": false,
    "previewChanges": true,
    "confirmBeforeExecute": ["npm publish", "rm -rf", "DROP TABLE"],
    "silentMode": false
  },
  "context": {
    "maxFiles": 100,
    "excludePatterns": [
      "node_modules/**",
      ".git/**",
      "**/*.lock",
      "**/dist/**",
      ".env*"
    ],
    "includePatterns": [
      "**/*.ts",
      "**/*.tsx",
      "**/*.js"
    ]
  },
  "hooks": {
    "beforeTask": "git stash push -m 'codex-backup'",
    "afterTask": "git stash pop",
    "onError": "codex-rollback"
  },
  "output": {
    "verbosity": "normal",
    "format": "pretty",
    "logFile": ".codex/logs/execution.log"
  },
  "mcp": {
    "servers": {
      "supabase": {
        "url": "https://api.supabase.com/mcp",
        "apiKey": "${SUPABASE_API_KEY}"
      }
    }
  }
}</code></pre>

                            <h2>配置项详解</h2>

                            <h3>模型设置</h3>
                            <ul>
                                <li><code>model.name</code> - 选择使用的模型版本</li>
                                <li><code>model.temperature</code> - 创造性程度 (0-1)，越低越保守</li>
                                <li><code>model.maxTokens</code> - 单次响应的最大 Token 数</li>
                            </ul>

                            <h3>行为设置</h3>
                            <ul>
                                <li><code>behavior.autoApprove</code> - 是否自动应用更改（生产环境建议关闭）</li>
                                <li><code>behavior.previewChanges</code> - 应用前显示 Diff 预览</li>
                                <li><code>behavior.confirmBeforeExecute</code> - 执行这些命令前需要二次确认</li>
                            </ul>

                            <h3>上下文设置</h3>
                            <ul>
                                <li><code>context.excludePatterns</code> - 忽略这些文件（支持 glob 语法）</li>
                                <li><code>context.includePatterns</code> - 只读取这些类型的文件</li>
                            </ul>

                            <h2>项目级配置</h2>
                            <p>在项目根目录创建 <code>.codex.json</code>，团队共享同一套 Codex 行为规范：</p>
                            <pre><code>{
  "extends": "~/.codex/config.json",
  "rules": {
    "requireTests": true,
    "requireTypeAnnotations": true
  },
  "scripts": {
    "test": "pnpm test",
    "lint": "pnpm lint",
    "build": "pnpm build"
  }
}</code></pre>
                        </div>
                    </article>
                </section>

                <!-- RULES SECTION -->
                <section id="rules" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>规则设定 (Rules)</h1>
                        <p class="subtitle">定义 Codex 在你项目中的行为准则。</p>

                        <div class="intro-block">
                            <h2>Rules 简介</h2>
                            <p>Rules 是 Codex 必须遵守的硬性问题约束。与 AGENTS.md 中的建议不同，Rules 是强制性的，Codex 永远不会违反。</p>

                            <h2>创建规则</h2>
                            <p>在项目中创建 <code>.codex/rules.json</code> 文件：</p>
                            <pre><code>{
  "rules": [
    {
      "id": "require-tests",
      "description": "任何新代码文件都必须包含对应的测试文件",
      "action": "reject",
      "message": "检测到新代码文件缺少测试文件，请先创建测试"
    },
    {
      "id": "no-console-log",
      "description": "生产代码中禁止使用 console.log",
      "pattern": "console\\.log\\(",
      "action": "reject",
      "message": "请使用 logger 工具替代 console.log"
    },
    {
      "id": "type-annotations-required",
      "description": "所有函数参数和返回值必须有类型注解",
      "action": "modify",
      "suggestion": "添加 TypeScript 类型注解"
    }
  ]
}</code></pre>

                            <h2>规则类型</h2>

                            <h3>1. 拒绝型规则 (Reject)</h3>
                            <p>当 Codex 生成的代码违反规则时，直接拒绝执行并要求重新生成。</p>

                            <h3>2. 修改型规则 (Modify)</h3>
                            <p>自动修正违反规则的代码，然后重新提交审查。</p>

                            <h3>3. 警告型规则 (Warn)</h3>
                            <p>生成代码后添加警告评论，但不阻止提交。</p>

                            <h2>内置规则模板</h2>
                            <pre><code># 代码风格规则
{
  "enforce": "prettier",
  "config": "./.prettierrc"
}

# 测试覆盖规则
{
  "minCoverage": 80,
  "exclude": ["**/*.config.js", "**/mocks/**"]
}

# 安全规则
{
  "noHardcodedSecrets": true,
  "noEvalUsage": true,
  "requireInputValidation": true
}</code></pre>

                            <h2>规则优先级</h2>
                            <blockquote>
                                <p><strong>优先级顺序：</strong> 项目规则 &gt; 全局规则 &gt; 默认规则</p>
                                <p>如果多个规则冲突，更具体的规则优先。如果仍然无法解决，Codex 会暂停并请求用户澄清。</p>
                            </blockquote>
                        </div>
                    </article>
                </section>

                <!-- AGENTS.MD SECTION -->
                <section id="agents-md" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>AGENTS.md 指南</h1>
                        <p class="subtitle">为你的项目定义 AI 智能体行为。</p>

                        <div class="intro-block">
                            <h2>什么是 AGENTS.md？</h2>
                            <p><code>AGENTS.md</code> 是项目根目录下的一个 Markdown 文件，用于告诉 Codex 如何理解和操作你的代码库。它包含：</p>
                            <ul>
                                <li>项目架构和目录结构说明</li>
                                <li>编码规范和约定</li>
                                <li>测试和构建命令</li>
                                <li>常见任务的执行流程</li>
                                <li>领域特定的知识</li>
                            </ul>

                            <h2>快速开始</h2>
                            <p>在项目根目录创建 <code>AGENTS.md</code>：</p>
                            <pre><code># 项目概览

这是一个基于 Next.js 14 + TypeScript 的电商平台。

## 目录结构

```
src/
├── app/          # Next.js App Router
├── components/   # React 组件
├── lib/          # 工具函数和 API 客户端
├── stores/       # Zustand 状态管理
└── types/        # TypeScript 类型定义
```

## 开发命令

- `pnpm dev` - 启动开发服务器
- `pnpm build` - 生产构建
- `pnpm test` - 运行测试套件
- `pnpm lint` - ESLint 检查

## 编码规范

1. 所有组件必须使用 TypeScript
2. 使用 Tailwind CSS 进行样式编写
3. API 调用必须包含错误处理
4. 新组件必须编写单元测试

## 架构决策

- 使用 Server Components 作为默认选择
- 客户端状态使用 Zustand 管理
- API 使用 React Query 进行数据获取和缓存
```</code></pre>

                            <h2>AGENTS.md 最佳实践</h2>

                            <h3>1. 明确测试要求</h3>
                            <pre><code>## 测试要求

- 所有新组件必须有对应的 `*.test.tsx` 文件
- 测试覆盖率必须保持在 80% 以上
- 运行测试：`pnpm test -- --coverage`</code></pre>

                            <h3>2. 定义代码审查清单</h3>
                            <pre><code>## PR 审查清单

- [ ] 代码通过 ESLint 检查
- [ ] 所有测试通过
- [ ] 添加了适当的错误处理
- [ ] 更新了相关文档</code></pre>

                            <h3>3. 记录部署流程</h3>
                            <pre><code>## 部署到生产环境

1. 运行 `pnpm build` 确认无构建错误
2. 运行 `pnpm test` 确认所有测试通过
3. 执行 `git push origin main` 触发自动部署
4. 部署完成后在 Vercel 控制台检查健康状态</code></pre>

                            <h2>自动生成 AGENTS.md</h2>
                            <p>让 Codex 帮你生成初始的 AGENTS.md：</p>
                            <pre><code>codex generate:agents-md</code></pre>
                            <p>Codex 会分析你的代码库结构、package.json 脚本和现有文档，生成一个全面的初始版本。</p>

                            <h2>示例模板</h2>
                            <p>访问 <a href="https://github.com/topics/agents-md" target="_blank">GitHub AGENTS.md 主题页</a> 查看更多社区贡献的模板。</p>
                        </div>
                    </article>
                </section>

                <!-- MCP SECTION -->
                <section id="mcp" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>MCP 协议</h1>
                        <p class="subtitle">模型上下文协议 - 让 Codex 连接外部世界。</p>

                        <div class="intro-block">
                            <h2>什么是 MCP？</h2>
                            <p><strong>Model Context Protocol (MCP)</strong> 是一个开放标准，允许 AI 模型（如 Codex）与外部数据源和工具进行标准化通信。通过 MCP，Codex 可以：</p>
                            <ul>
                                <li>查询数据库获取实时数据</li>
                                <li>调用第三方 API（如 Stripe、Supabase、Linear）</li>
                                <li>访问企业内部系统</li>
                                <li>执行专门的工具链操作</li>
                            </ul>

                            <h2>架构概览</h2>
                            <pre><code>┌─────────────┐      ┌──────────────┐      ┌─────────────┐
│   Codex     │◄────►│  MCP Server  │◄────►│  外部服务   │
│  (Client)   │      │  (Bridge)    │      │  (API/DB)   │
└─────────────┘      └──────────────┘      └─────────────┘</code></pre>

                            <h2>安装 MCP Server</h2>
                            <h3>使用官方 MCP 服务器</h3>
                            <pre><code># 安装 Supabase MCP 服务器
npm install -g @mcp/supabase

# 安装 Linear MCP 服务器
npm install -g @mcp/linear

# 安装 Stripe MCP 服务器
npm install -g @mcp/stripe</code></pre>

                            <h2>配置 MCP</h2>
                            <p>在 <code>~/.codex/mcp.json</code> 中配置服务器：</p>
                            <pre><code>{
  "mcpServers": {
    "supabase": {
      "command": "npx",
      "args": ["-y", "@mcp/supabase"],
      "env": {
        "SUPABASE_URL": "https://xxx.supabase.co",
        "SUPABASE_KEY": "${SUPABASE_API_KEY}"
      }
    },
    "linear": {
      "command": "npx",
      "args": ["-y", "@mcp/linear"],
      "env": {
        "LINEAR_API_KEY": "${LINEAR_API_KEY}"
      }
    },
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@mcp/filesystem"],
      "config": {
        "roots": ["./data", "./logs"]
      }
    }
  }
}</code></pre>

                            <h2>使用 MCP</h2>
                            <p>配置完成后，Codex 会自动发现并使用 MCP 服务器：</p>
                            <pre><code>> 帮我查询上个月最活跃的用户

[Codex 通过 Supabase MCP 查询数据库]
✅ 查询完成：最活跃的用户是 @alice，共登录 47 次

> 创建一个 Linear Issue 跟踪这个 bug

[Codex 通过 Linear MCP 创建 Issue]
✅ 已创建 Issue: LIN-1234</code></pre>

                            <h2>官方 MCP 服务器列表</h2>
                            <ul>
                                <li><strong>@mcp/supabase</strong> - Supabase 数据库查询</li>
                                <li><strong>@mcp/linear</strong> - Linear 项目管理</li>
                                <li><strong>@mcp/stripe</strong> - Stripe 支付处理</li>
                                <li><strong>@mcp/github</strong> - GitHub API 操作</li>
                                <li><strong>@mcp/filesystem</strong> - 文件系统访问</li>
                                <li><strong>@mcp/postgres</strong> - PostgreSQL 数据库</li>
                                <li><strong>@mcp/slack</strong> - Slack 消息发送</li>
                            </ul>

                            <h2>创建自定义 MCP Server</h2>
                            <pre><code>// mcp-server.js
import { Server } from '@modelcontextprotocol/sdk/server.js';

const server = new Server({
  name: 'my-custom-server',
  version: '1.0.0'
});

server.setRequestHandler('query', async (request) => {
  // 处理查询请求
  return { data: 'result' };
});

server.connect();</code></pre>

                            <h2>MCP 安全</h2>
                            <blockquote>
                                <p><strong>重要：</strong> MCP 服务器运行在沙箱环境中，只能访问明确配置的资源。建议使用环境变量管理敏感凭据，而非硬编码在配置文件中。</p>
                            </blockquote>
                        </div>
                    </article>
                </section>

                <!-- SKILLS SECTION -->
                <section id="skills" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>自定义技能 (Skills)</h1>
                        <p class="subtitle">为 Codex 添加领域专精能力。</p>

                        <div class="intro-block">
                            <h2>什么是 Skills？</h2>
                            <p>Skills 是封装了特定领域知识和工具使用的可插拔模块。安装一个 Skill 后，Codex 会自动获得相关领域的专业能力。</p>

                            <h2>Skill 类型</h2>

                            <h3>1. 知识型 Skill</h3>
                            <p>提供特定领域的文档和最佳实践：</p>
                            <ul>
                                <li><code>aws-architect</code> - AWS 架构设计指南</li>
                                <li><code>security-auditor</code> - OWASP 安全检查清单</li>
                                <li><code>db-optimizer</code> - 数据库查询优化技巧</li>
                            </ul>

                            <h3>2. 工具型 Skill</h3>
                            <p>封装常用工具链的操作：</p>
                            <ul>
                                <li><code>git-master</code> - 复杂 Git 操作自动化</li>
                                <li><code>docker-builder</code> - Dockerfile 生成和优化</li>
                                <li><code>ci-cd-expert</code> - CI/CD 流水线配置</li>
                            </ul>

                            <h3>3. 框架型 Skill</h3>
                            <p>针对特定框架的深度集成：</p>
                            <ul>
                                <li><code>nextjs-pro</code> - Next.js 高级用法</li>
                                <li><code>react-native-dev</code> - React Native 开发工具链</li>
                                <li><code>prisma-master</code> - Prisma ORM 最佳实践</li>
                            </ul>

                            <h2>安装 Skill</h2>
                            <pre><code># 从技能商城安装
codex skills install aws-architect

# 从 GitHub 安装
codex skills install github:user/repo

# 本地开发安装
codex skills link ./my-skill</code></pre>

                            <h2>管理 Skills</h2>
                            <pre><code># 查看已安装的 Skills
codex skills list

# 查看 Skill 详情
codex skills info aws-architect

# 更新所有 Skills
codex skills update

# 卸载 Skill
codex skills uninstall aws-architect</code></pre>

                            <h2>创建自定义 Skill</h2>
                            <pre><code># 创建 Skill 模板
codex skills create my-skill

# 生成的目录结构
my-skill/
├── package.json
├── skill.json
├── prompts/       # 提示词模板
├── knowledge/     # 领域知识文档
├── tools/         # 工具函数
└── examples/      # 使用示例</code></pre>

                            <h2>Skill 配置文件</h2>
                            <pre><code>// skill.json
{
  "name": "my-skill",
  "version": "1.0.0",
  "description": "我的自定义技能",
  "capabilities": [
    "code-generation",
    "code-review",
    "debugging"
  ],
  "triggers": [
    "当用户提到 Kubernetes 时激活",
    "在 .kube 目录下自动激活"
  ],
  "dependencies": [
    "docker-builder@^1.0.0"
  ]
}</code></pre>

                            <h2>技能商城</h2>
                            <p>访问 <a href="https://skills.openai.com" target="_blank">skills.openai.com</a> 浏览和发布社区 Skills。发布优质 Skills 可获得 OpenAI Credits 奖励！</p>

                            <h2>企业自定义 Skills</h2>
                            <p>Enterprise 用户可以创建内部 Skills，封装公司特有的：</p>
                            <ul>
                                <li>API 规范和 SDK 使用</li>
                                <li>内部工具链操作</li>
                                <li>业务流程和审批规则</li>
                                <li>合规性和安全检查清单</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- MULTI-AGENTS SECTION -->
                <section id="multi-agents" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>多智能体 (Multi-Agents)</h1>
                        <p class="subtitle">协调多个 Codex 智能体并行工作。</p>
                        <div class="intro-block">
                            <h2>什么是多智能体系统？</h2>
                            <p>多智能体系统允许你同时运行多个 Codex 实例，每个实例负责不同的子任务。通过合理分工，可以大幅提升复杂任务的执行效率。</p>

                            <h2>使用场景</h2>
                            <ul>
                                <li><strong>大型代码库重构：</strong>一个智能体分析依赖关系，另一个执行代码转换</li>
                                <li><strong>全栈开发：</strong>前端智能体处理 UI，后端智能体处理 API 逻辑</li>
                                <li><strong>代码审查：</strong>多个智能体从不同角度审查代码（安全性、性能、可维护性）</li>
                            </ul>

                            <h2>配置多智能体工作流</h2>
                            <pre><code>{
  "multiAgent": {
    "enabled": true,
    "agents": [
      {
        "name": "frontend-agent",
        "specialty": "react-typescript",
        "context": ["src/components", "src/pages"]
      },
      {
        "name": "backend-agent",
        "specialty": "nodejs-api",
        "context": ["src/api", "src/models"]
      }
    ],
    "coordinator": "orchestrator-v2"
  }
}</code></pre>

                            <h2>智能体间通信</h2>
                            <p>Codex 提供内置的消息传递机制，让多个智能体可以共享上下文和协调工作：</p>
                            <pre><code># 发送消息给其他智能体
@backend-agent 请帮我创建一个新的用户 API 端点

# 等待其他智能体完成工作
await @frontend-agent 完成登录表单</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CYBER-SAFETY SECTION -->
                <section id="cyber-safety" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>网络安全 (Cyber Safety)</h1>
                        <p class="subtitle">确保 Codex 操作的网络安全最佳实践。</p>
                        <div class="intro-block">
                            <h2>安全沙箱</h2>
                            <p>Codex 运行在隔离的沙箱环境中，防止恶意代码执行对系统造成损害：</p>
                            <ul>
                                <li>文件系统访问受限</li>
                                <li>网络请求经过审查</li>
                                <li>危险命令被阻止执行</li>
                            </ul>

                            <h2>命令审查</h2>
                            <p>以下命令类型需要用户明确确认才能执行：</p>
                            <pre><code>- rm -rf /
                            - DROP TABLE
                            - DELETE FROM users
                            - chmod 777
                            - sudo su</code></pre>

                            <h2>网络安全策略</h2>
                            <p>配置 Codex 的网络安全规则：</p>
                            <pre><code>{
  "cyberSafety": {
    "blockDangerousCommands": true,
    "requireConfirmationFor": ["file-delete", "db-modify", "system-change"],
    "allowedDomains": ["api.github.com", "registry.npmjs.org"],
    "blockedDomains": ["malicious-site.com"]
  }
}</code></pre>

                            <h2>审计日志</h2>
                            <p>所有 Codex 执行的操作都会被记录在审计日志中，便于事后审查和故障排查。</p>
                        </div>
                    </article>
                </section>

                <!-- APP COMMANDS SECTION -->
                <section id="app-commands" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>客户端指令 (Commands)</h1>
                        <p class="subtitle">Codex 客户端支持的指令列表。</p>
                        <div class="intro-block">
                            <h2>内置指令</h2>
                            <ul>
                                <li><code>/explain</code> - 解释选中的代码</li>
                                <li><code>/test</code> - 为选中的函数生成测试</li>
                                <li><code>/refactor</code> - 重构代码</li>
                                <li><code>/document</code> - 生成文档注释</li>
                                <li><code>/fix</code> - 修复错误</li>
                            </ul>

                            <h2>自定义指令</h2>
                            <p>在配置文件中添加自定义指令：</p>
                            <pre><code>{
  "commands": {
    "my-custom": {
      "description": "执行自定义任务",
      "prompt": "请帮我完成...",
      "context": ["src/**/*"]
    }
  }
}</code></pre>
                        </div>
                    </article>
                </section>

                <!-- APP AUTOMATIONS SECTION -->
                <section id="app-automations" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>自动化 (Automations)</h1>
                        <p class="subtitle">设置自动化工作流。</p>
                        <div class="intro-block">
                            <h2>触发器类型</h2>
                            <ul>
                                <li><strong>文件变更：</strong>当特定文件被修改时触发</li>
                                <li><strong>Git 事件：</strong>Push、Pull Request 等事件</li>
                                <li><strong>定时任务：</strong>按计划执行</li>
                            </ul>

                            <h2>配置自动化</h2>
                            <pre><code>{
  "automations": [
    {
      "name": "自动修复 ESLint 错误",
      "trigger": "file-save",
      "filter": "**/*.ts",
      "action": "eslint-fix"
    },
    {
      "name": "PR 描述生成",
      "trigger": "pr-created",
      "action": "generate-pr-description"
    }
  ]
}</code></pre>
                        </div>
                    </article>
                </section>

                <!-- APP REVIEW SECTION -->
                <section id="app-review" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>审查 (Review)</h1>
                        <p class="subtitle">代码审查和 Diff 查看功能。</p>
                        <div class="intro-block">
                            <h2>Diff 视图</h2>
                            <p>Codex 提供并排 Diff 视图，方便对比修改前后的代码。</p>

                            <h2>内联评论</h2>
                            <p>在 Diff 视图中添加内联评论，指出问题或建议改进。</p>

                            <h2>审查清单</h2>
                            <pre><code>- [ ] 代码逻辑正确
                            - [ ] 测试覆盖率足够
                            - [ ] 遵循编码规范
                            - [ ] 没有安全漏洞</code></pre>
                        </div>
                    </article>
                </section>

                <!-- APP SETTINGS SECTION -->
                <section id="app-settings" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>客户端设置 (Settings)</h1>
                        <p class="subtitle">Codex 客户端配置选项。</p>
                        <div class="intro-block">
                            <h2>通用设置</h2>
                            <ul>
                                <li><strong>主题：</strong>深色/浅色/自动</li>
                                <li><strong>字体大小：</strong>12px - 20px</li>
                                <li><strong>自动保存：</strong>开启/关闭</li>
                            </ul>

                            <h2>智能体设置</h2>
                            <ul>
                                <li><strong>默认模式：</strong>Agent/Chat</li>
                                <li><strong>自动批准：</strong>开启/关闭/部分</li>
                                <li><strong>最大 Token：</strong>4096 - 32768</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- APP WORKTREES SECTION -->
                <section id="app-worktrees" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>工作树 (Worktrees)</h1>
                        <p class="subtitle">使用 Git Worktrees 进行并行开发。</p>
                        <div class="intro-block">
                            <h2>什么是 Worktrees？</h2>
                            <p>Git Worktrees 允许你在同一仓库的多个独立工作目录之间切换，每个目录都可以独立开发和测试。</p>

                            <h2>Codex 中的 Worktrees</h2>
                            <p>Codex 会自动为每个新任务创建一个 Worktree，确保修改不会影响主分支或其他正在进行的任务。</p>

                            <h2>命令</h2>
                            <pre><code># 创建新的 Worktree
codex worktree create feature-branch

# 列出所有 Worktrees
codex worktree list

# 删除 Worktree
codex worktree delete feature-branch</code></pre>
                        </div>
                    </article>
                </section>

                <!-- APP LOCAL SECTION -->
                <section id="app-local" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>本地环境 (Local Environments)</h1>
                        <p class="subtitle">在本地运行和调试代码。</p>
                        <div class="intro-block">
                            <h2>环境配置</h2>
                            <p>配置本地开发环境的参数：</p>
                            <pre><code>{
  "localEnv": {
    "nodeVersion": "20.x",
    "packageManager": "pnpm",
    "port": 3000,
    "envFile": ".env.local"
  }
}</code></pre>

                            <h2>自动启动服务</h2>
                            <p>Codex 可以自动启动开发服务器、数据库等依赖服务。</p>
                        </div>
                    </article>
                </section>

                <!-- IDE FEATURES SECTION -->
                <section id="ide-features" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>IDE 插件功能</h1>
                        <p class="subtitle">IDE 扩展的核心功能。</p>
                        <div class="intro-block">
                            <h2>支持的 IDE</h2>
                            <ul>
                                <li>Visual Studio Code</li>
                                <li>Cursor</li>
                                <li>Windsurf</li>
                                <li>JetBrains 系列</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- IDE COMMANDS SECTION -->
                <section id="ide-commands" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>IDE 命令</h1>
                        <p class="subtitle">IDE 插件中可用的命令。</p>
                        <div class="intro-block">
                            <h2>快捷键命令</h2>
                            <pre><code>Cmd+Shift+C - 打开聊天
Cmd+Shift+E - 内联编辑
Cmd+Shift+X - 解释代码</code></pre>
                        </div>
                    </article>
                </section>

                <!-- IDE SLASH SECTION -->
                <section id="ide-slash" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>斜杠命令</h1>
                        <p class="subtitle">IDE 中的斜杠命令列表。</p>
                        <div class="intro-block">
                            <ul>
                                <li><code>/fix</code> - 修复错误</li>
                                <li><code>/test</code> - 生成测试</li>
                                <li><code>/docs</code> - 生成文档</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- IDE SETTINGS SECTION -->
                <section id="ide-settings" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>IDE 设置</h1>
                        <p class="subtitle">IDE 插件配置选项。</p>
                        <div class="intro-block">
                            <pre><code>{
  "codex.enabled": true,
  "codex.model": "codex-latest"
}</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CLI FEATURES SECTION -->
                <section id="cli-features" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>CLI 功能</h1>
                        <p class="subtitle">命令行工具的核心功能。</p>
                        <div class="intro-block">
                            <ul>
                                <li>交互式对话</li>
                                <li>批处理模式</li>
                                <li>管道输入/输出</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CLI REFERENCE SECTION -->
                <section id="cli-reference" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>CLI 命令参考</h1>
                        <p class="subtitle">完整的命令行参考手册。</p>
                        <div class="intro-block">
                            <pre><code>codex run &lt;task&gt;
codex login
codex config &lt;key&gt; &lt;value&gt;</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CLI SLASH SECTION -->
                <section id="cli-slash" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>CLI 斜杠命令</h1>
                        <p class="subtitle">交互模式中的斜杠命令。</p>
                        <div class="intro-block">
                            <ul>
                                <li><code>/help</code> - 显示帮助</li>
                                <li><code>/clear</code> - 清除历史</li>
                                <li><code>/export</code> - 导出对话</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CLI NONINTERACTIVE SECTION -->
                <section id="cli-noninteractive" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>非交互模式</h1>
                        <p class="subtitle">在脚本和自动化中使用 CLI。</p>
                        <div class="intro-block">
                            <pre><code>codex run --json "列表" &gt; deps.json
git diff | codex run "解释"</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CLOUD ENV SECTION -->
                <section id="cloud-env" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>云端环境</h1>
                        <p class="subtitle">在云端运行 Codex 任务。</p>
                        <div class="intro-block">
                            <ul>
                                <li><strong>标准环境：</strong>2 vCPU, 4GB RAM</li>
                                <li><strong>性能环境：</strong>4 vCPU, 8GB RAM</li>
                                <li><strong>企业环境：</strong>8 vCPU, 16GB RAM</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CLOUD INTERNET SECTION -->
                <section id="cloud-internet" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>互联网访问</h1>
                        <p class="subtitle">云端环境的网络配置。</p>
                        <div class="intro-block">
                            <p>云端环境可以访问外部 API 和服务，包括 GitHub API、npm registry 等。</p>
                        </div>
                    </article>
                </section>

                <!-- GITHUB SECTION -->
                <section id="github" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>GitHub 集成</h1>
                        <p class="subtitle">与 GitHub 深度集成。</p>
                        <div class="intro-block">
                            <ul>
                                <li>自动 PR 创建</li>
                                <li>Issue 自动响应</li>
                                <li>代码审查建议</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- LINEAR SECTION -->
                <section id="linear" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Linear 集成</h1>
                        <p class="subtitle">与 Linear 项目管理集成。</p>
                        <div class="intro-block">
                            <ul>
                                <li>从 Issue 创建任务</li>
                                <li>自动更新 Issue 状态</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- SLACK SECTION -->
                <section id="slack" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>Slack 集成</h1>
                        <p class="subtitle">在 Slack 中使用 Codex。</p>
                        <div class="intro-block">
                            <ul>
                                <li><code>/codex help</code> - 显示帮助</li>
                                <li><code>/codex explain</code> - 解释代码</li>
                                <li><code>/codex review</code> - 审查 PR</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CONFIG BASIC SECTION -->
                <section id="config-basic" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>基础配置</h1>
                        <p class="subtitle">快速开始配置指南。</p>
                        <div class="intro-block">
                            <pre><code>codex login
codex config model codex-latest
codex workspace set ./my-project</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CONFIG ADVANCED SECTION -->
                <section id="config-advanced" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>高级配置</h1>
                        <p class="subtitle">高级用户配置选项。</p>
                        <div class="intro-block">
                            <pre><code>export CODEX_MODEL=codex-latest
export CODEX_MAX_TOKENS=8192</code></pre>
                        </div>
                    </article>
                </section>

                <!-- CONFIG REFERENCE SECTION -->
                <section id="config-reference" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>配置参考</h1>
                        <p class="subtitle">完整的配置项参考手册。</p>
                        <div class="intro-block">
                            <ul>
                                <li><code>model</code> - 使用的模型</li>
                                <li><code>temperature</code> - 温度参数</li>
                                <li><code>maxTokens</code> - 最大 Token 数</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CONFIG SAMPLE SECTION -->
                <section id="config-sample" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>配置示例</h1>
                        <p class="subtitle">常用的配置示例。</p>
                        <div class="intro-block">
                            <pre><code>{
  "model": "codex-latest",
  "temperature": 0.3
}</code></pre>
                        </div>
                    </article>
                </section>

                <!-- ENTERPRISE ADMIN SECTION -->
                <section id="enterprise-admin" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>管理员设置</h1>
                        <p class="subtitle">企业版管理员配置指南。</p>
                        <div class="intro-block">
                            <ul>
                                <li>用户管理</li>
                                <li>角色分配</li>
                                <li>权限管理</li>
                                <li>使用量监控</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- ENTERPRISE GOVERNANCE SECTION -->
                <section id="enterprise-governance" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>治理与合规</h1>
                        <p class="subtitle">企业治理和合规性配置。</p>
                        <div class="intro-block">
                            <ul>
                                <li>数据保留</li>
                                <li>合规性报告</li>
                                <li>数据导出</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- SECURITY SECTION -->
                <section id="security" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>安全</h1>
                        <p class="subtitle">安全性和隐私保护。</p>
                        <div class="intro-block">
                            <ul>
                                <li>传输中加密 (TLS 1.3)</li>
                                <li>静态数据加密 (AES-256)</li>
                                <li>SOC 2 Type II 认证</li>
                                <li>GDPR 合规</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- MODELS SECTION -->
                <section id="models" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>模型</h1>
                        <p class="subtitle">可用的 Codex 模型。</p>
                        <div class="intro-block">
                            <ul>
                                <li><strong>codex-latest</strong> - 最新最强模型</li>
                                <li><strong>codex-stable</strong> - 稳定版本</li>
                                <li><strong>codex-mini</strong> - 快速轻量模型</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- CHANGELOG SECTION -->
                <section id="changelog" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>更新日志</h1>
                        <p class="subtitle">产品更新历史。</p>
                        <div class="intro-block">
                            <h2>v2.0.0 (2026-02)</h2>
                            <ul>
                                <li>新增多智能体支持</li>
                                <li>改进的代码审查功能</li>
                                <li>性能提升 50%</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- VIDEOS SECTION -->
                <section id="videos" class="doc-section full-width">
                    <article class="document-content markdown-body">
                        <h1>视频教程</h1>
                        <p class="subtitle">视频学习资源。</p>
                        <div class="intro-block">
                            <h2>入门系列</h2>
                            <ul>
                                <li>Codex 快速入门 (5 分钟)</li>
                                <li>第一个 Codex 项目 (10 分钟)</li>
                                <li>提示词技巧 (15 分钟)</li>
                            </ul>
                        </div>
                    </article>
                </section>

            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const docLinks = document.querySelectorAll('.doc-link');
            const sections = document.querySelectorAll('.doc-section');

            function showSection(targetId) {
                // Hide all sections
                sections.forEach(section => {
                    section.classList.remove('active');
                });

                // Show target section
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }

                // Update active link
                docLinks.forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`.doc-link[data-target="${targetId}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                    const parentUl = activeLink.closest('.sub-nav');
                    if (parentUl) {
                        parentUl.classList.add('active');
                    }
                }
            }

            // Handle sub-menu expand/collapse
            document.querySelectorAll('.with-arrow').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const parentLi = link.parentElement;
                    const subNav = parentLi.querySelector('.sub-nav');
                    if (subNav) {
                        subNav.classList.toggle('active');
                    }
                });
            });

            // Handle navigation to sections
            docLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    if (link.classList.contains('with-arrow')) {
                        return; // Skip links with arrows, they only expand sub-menu
                    }
                    e.preventDefault();
                    const targetId = link.getAttribute('data-target');
                    if (targetId) {
                        showSection(targetId);
                        window.history.pushState(null, null, `#${targetId}`);
                    }
                });
            });

            // Handle Light Mode
            const themeBtn = document.getElementById('theme-toggle-btn');
            if (themeBtn) {
                themeBtn.addEventListener('click', () => {
                    document.body.classList.toggle('light-theme');
                    const isLight = document.body.classList.contains('light-theme');
                    if (isLight) {
                        themeBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>';
                    } else {
                        themeBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';
                    }
                });
            }

            // Handle initial direct load
            if (window.location.hash) {
                const pureHash = window.location.hash.substring(1);
                showSection(pureHash);
            }
        });
    </script>
</body>

</html>